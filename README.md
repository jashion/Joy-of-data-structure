# Joy-of-data-structure
å¤§è¯æ•°æ®ç»“æ„

>å¤§éƒ¨åˆ†å†…å®¹æ¥è‡ªäºã€Šå¤§è¯æ•°æ®ç»“æ„ã€‹ï¼Œä»£ç å…¨éƒ¨ä½¿ç”¨Swiftå®ç°ã€‚è‡³äºä¸ºä»€ä¹ˆæŠ½é£å†™è¿™ä¸ªï¼ŸğŸ˜Šä½ æ‡‚çš„ã€‚
# ä¸€. æ•°æ®ç»“æ„ä¸€äº›é‡è¦å®šä¹‰
ç†è§£æ•°æ®ç»“æ„ä¹‹å‰ï¼Œå…ˆæ¥äº†è§£ä¸€äº›é‡è¦çš„æ¦‚å¿µä»¥åŠè¿™äº›æ¦‚å¿µä¹‹é—´çš„å…³ç³»ã€‚
### 1.1æ•°æ®
>æ•°æ®ï¼šå¯ä»¥è¢«è®¡ç®—æœºç†è§£å’Œå¤„ç†çš„æè¿°å®¢è§‚äº‹ç‰©çš„ç¬¦å·é›†ã€‚

å‡ ä¸ªç‰¹å¾ï¼š

- å¯ä»¥è¾“å…¥è®¡ç®—æœº
- å¯ä»¥è¢«è®¡ç®—æœºå¤„ç†
- ç¬¦å·é›† 

æ¯”å¦‚ï¼šæ•´å‹ï¼Œå­—ç¬¦ä¸²ç­‰ç­‰ã€‚éƒ½å¯ä»¥æ»¡è¶³ä¸Šé¢ä¸Šä¸ªæ¡ä»¶ã€‚
é‚£ä¹ˆï¼Ÿå›¾åƒï¼Œå£°éŸ³ç®—ä¸ç®—æ•°æ®ã€‚ç­”æ¡ˆè‚¯å®šç®—ï¼Œå›¾åƒï¼Œå£°éŸ³è¿™ç§å®¢è§‚äº‹ç‰©ï¼Œåœ¨è®¡ç®—æœºä¸­è½¬åŒ–æˆäºŒè¿›åˆ¶æ¥å‚¨å­˜ï¼Œæ‰€ä»¥ï¼Œæ»¡è¶³ä¸Šé¢çš„æ¡ä»¶ã€‚

### 1.2æ•°æ®çš„ç»„æˆç»“æ„
![DataStructure.png](https://upload-images.jianshu.io/upload_images/968977-ccee5eeaf943ff96.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
>æ•°æ®å…ƒç´ ï¼šæ•°æ®é‡Œé¢å…·æœ‰ä¸€å®šæ„ä¹‰çš„åŸºæœ¬å•ä½ã€‚

æŠŠäººç±»æ¯”åšæ•°æ®ï¼Œé‚£ä¹ˆï¼Œæ•°æ®å…ƒç´ å°±æ˜¯äººçš„å•ç‹¬ä¸ªä½“ã€‚

>æ•°æ®é¡¹ï¼šæ•°æ®é¡¹æ˜¯æ•°æ®ä¸å¯åˆ†å‰²çš„æœ€å°å•ä½ã€‚

å¦‚æœæ•°æ®å…ƒç´ æ¯”åšäººï¼Œé‚£ä¹ˆï¼Œæ•°æ®é¡¹å¯ä»¥æ˜¯ç»„æˆäººçš„å„ç§å™¨å®˜ï¼Œçœ¼ï¼Œé¼»ï¼Œè€³ï¼Œå˜´ç­‰ç­‰ï¼Œä¹Ÿå¯ä»¥æ˜¯å¹´é¾„ï¼Œæ€§åˆ«ï¼Œå§“åç­‰ç­‰ã€‚

>æ•°æ®å¯¹è±¡ï¼šæ€§è´¨ç›¸åŒçš„æ•°æ®å…ƒç´ çš„é›†åˆï¼Œæ˜¯æ•°æ®çš„å­é›†ã€‚

æ€§è´¨ç›¸åŒï¼Œé‚£å°±å¥½ç†è§£äº†ï¼Œæ¯”å¦‚ï¼šå…´è¶£ç›¸åŒçš„äººç»„æˆçš„ç¾¤ä½“æˆ–è€…90åç¾¤ä½“ç­‰ç­‰ã€‚

### 1.3æ•°æ®ç»“æ„
äº†è§£åˆ°æ•°æ®å…¶å®å°±æ˜¯ç¬¦å·é›†ï¼Œé‚£ä¹ˆï¼Ÿæ•°æ®ç»“æ„æ˜¯ä¸ªä»€ä¹ˆä¸œä¸œï¼Ÿé¡¾åæ€ä¹‰ï¼Œæ•°æ®ç»“æ„å°±æ˜¯æ•°æ®çš„ç»„ç»‡å½¢å¼ã€‚ç±»æ¯”å»ºç­‘å·¥ç¨‹é‡Œé¢çš„è®¾è®¡ç»“æ„ã€‚

>æ•°æ®ç»“æ„ï¼šæ•°æ®ç»“æ„å°±æ˜¯æ•°æ®ä¹‹é—´çš„ç»„ç»‡å½¢å¼ã€‚

æ‰“ä¸ªæ¯”æ–¹ï¼šå‡å¦‚ä½ æœ‰1000ä¸ªè‹¹æœï¼Œä½ ä¼šæ€ä¹ˆå‚¨å­˜ï¼Ÿ
```
ä¸€ç§æ–¹æ¡ˆï¼šæ‰¾ä¸€ä¸ªè¶³å¤Ÿå¤§çš„å‚¨å­˜å®¤ï¼ŒæŠŠè‹¹æœæ”¾åœ¨ä¸€æ’
ä¸€ç§æ–¹æ¡ˆï¼š100ä¸ªè‹¹æœæ”¾ä¸€æ’ï¼Œæ€»å…±æ”¾10æ’
ä¸€ç§æ–¹æ¡ˆï¼š100ä¸ªè‹¹æœæ”¾åœ¨åº•éƒ¨ï¼Œä¸Šé¢å†å 10å±‚
...
```
ä¸Šé¢Nä¸­æ–¹æ¡ˆéƒ½æ˜¯å¤„ç†è¿™ä¸ª1000ä¸ªè‹¹æœçš„æ€è·¯ï¼Œæ€ä¹ˆå­˜æ”¾æ¶‰åŠåˆ°æ•´ä¸ªæ¶æ„çš„è®¾è®¡ï¼Œå¥½æ¯”æ•°æ®ç»“æ„å°±æ˜¯è§£å†³æ•°æ®ä¹‹é—´çš„ç»„ç»‡ç»“æ„é—®é¢˜çš„ç§‘å­¦ã€‚

#### 1.3.1æ•°æ®ç»“æ„åˆ†ç±»
![DataStructure2.png](https://upload-images.jianshu.io/upload_images/968977-6f0cc647a06db722.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
- é€»è¾‘ç»“æ„ï¼šæ•°æ®å¯¹è±¡ä¸­çš„æ•°æ®å…ƒç´ ä¹‹é—´çš„é€»è¾‘å…³ç³»

é›†åˆç»“æ„ï¼šé›†åˆç»“æ„ä¸­çš„æ•°æ®å…ƒç´ é™¤äº†åŒå±ä¸€ä¸ªé›†åˆå¤–ï¼Œæ²¡æœ‰å…¶ä»–å…³ç³»ã€‚
çº¿æ€§ç»“æ„ï¼šçº¿æ€§ç»“æ„ä¸­çš„æ•°æ®å…ƒç´ ä¹‹é—´æ˜¯ä¸€å¯¹ä¸€çš„å…³ç³»ã€‚
æ ‘å½¢ç»“æ„ï¼šæ ‘å½¢ç»“æ„ä¸­çš„æ•°æ®å…ƒç´ ä¹‹é—´æ˜¯ä¸€å¯¹å¤šçš„å…³ç³»ã€‚
å›¾å½¢ç»“æ„ï¼šå›¾å½¢ç»“æ„ä¸­çš„æ•°æ®å…ƒç´ ä¹‹é—´æ˜¯å¤šå¯¹å¤šçš„å…³ç³»ã€‚

- ç‰©ç†æœºæ„ï¼šæ•°æ®çš„é€»è¾‘ç»“æ„åœ¨è®¡ç®—æœºä¸­çš„å‚¨å­˜å½¢å¼

é¡ºåºå‚¨å­˜ç»“æ„ï¼šæŠŠæ•°æ®å…ƒç´ å‚¨å­˜åœ¨è¿ç»­çš„å­˜å‚¨å•å…ƒã€‚
é“¾å¼å‚¨å­˜ç»“æ„ï¼šæŠŠæ•°æ®å…ƒç´ å‚¨å­˜åœ¨ä»»æ„çš„å­˜å‚¨å•å…ƒï¼ˆå¯ä»¥æ˜¯è¿ç»­æˆ–è€…ä¸è¿ç»­ï¼‰ã€‚

### 1.4æ•°æ®ç±»å‹ VS æŠ½è±¡æ•°æ®ç±»å‹ VS  æ•°æ®ç»“æ„
æ•°æ®ç±»å‹ï¼šæ˜¯æŒ‡ä¸€ç»„**æ€§è´¨ç›¸åŒ**çš„å€¼çš„é›†åˆä»¥åŠå®šä¹‰åœ¨æ­¤é›†åˆä¼¤çš„ä¸€äº›**æ“ä½œ**çš„æ€»ç§°ã€‚
Cè¯­è¨€æ•°æ®ç±»å‹åˆ†ç±»ï¼š
- åŸå­ç±»å‹ï¼š åŸºæœ¬ç±»å‹ï¼Œæ¯”å¦‚ï¼šæ•´å‹ï¼Œå­—ç¬¦å‹ç­‰ã€‚
- ç»“æ„ç±»å‹ï¼š ç»„åˆç±»å‹ï¼Œæ¯”å¦‚ï¼šç»“æ„ä½“ç­‰ã€‚

æŠ½è±¡æ•°æ®ç±»å‹ï¼šæ˜¯æŒ‡**æ•°æ®ç±»å‹**çš„**æ•°å­¦æŠ½è±¡æ¨¡å‹**ä»¥åŠå®šä¹‰åœ¨è¯¥æ¨¡å‹ä¸Šçš„ä¸€ç»„**æ“ä½œ**ï¼ˆæŠ½è±¡æ•°æ®ç±»å‹ä¸ä»…ä»…æŒ‡å·²å®šä¹‰å¹¶å®ç°çš„æ•°æ®ç±»å‹ï¼Œè¿˜å¯ä»¥æ˜¯è‡ªå®šä¹‰çš„æ•°æ®ç±»å‹ã€‚ï¼‰ã€‚
```
æŠ½è±¡æ•°æ®ç±»å‹çš„æ ¼å¼ï¼š
ADT æŠ½è±¡æ•°æ®ç±»å‹åç§°
Data 
        æ•°æ®å…ƒç´ ä¹‹é—´çš„é€»è¾‘å…³ç³»çš„å®šä¹‰
Operation
        æ“ä½œ1
        æ“ä½œ2
            ...
        æ“ä½œN
EndADT
```
#### 1.4.1æ•°æ®ç±»å‹ VS æŠ½è±¡æ•°æ®ç±»å‹
æ•°æ®ç±»å‹æ˜¯æŠ½è±¡æ•°æ®ç±»å‹çš„é€»è¾‘å’Œç‰©ç†ä¸Šçš„å…·ä½“å®ç°ï¼ŒæŠ½è±¡æ•°æ®ç±»å‹åˆ™è´Ÿè´£å®šä¹‰æ•°æ®ç±»å‹ä¸Šå…·æœ‰æ™®éæ€§çš„é€»è¾‘å…³ç³»ä»¥åŠç›¸å…³çš„ä¸€ç»„æ“ä½œã€‚æ¯”å¦‚è¯´ï¼šæ•´å‹ï¼ŒæŠ½è±¡æ•°æ®ç±»å‹çš„æ•´å‹æ˜¯æŒ‡æ•´å‹å…·æœ‰çš„æ™®éç‰¹æ€§ï¼Œæ¯”å¦‚æ‹¥æœ‰åŠ å‡ä¹˜é™¤çš„æ“ä½œï¼Œä½†æ˜¯å¹¶ä¸æ¶‰åŠåˆ°æ•´å‹åœ¨æ¯ç§è¯­è¨€çš„å…·ä½“å®ç°æˆ–è€…ä¸åŒçš„æ“ä½œç³»ç»Ÿå‚¨å­˜ä¸ä¸€æ ·ç­‰ç­‰ï¼›æ¶‰åŠåˆ°ç‰©ç†ä¸Šçš„å…·ä½“å®ç°åˆ™è¡¨ç¤ºä¸ºæ•°æ®ç±»å‹ã€‚ç±»æ¯”**ç±»å’Œæ¥å£**ã€‚

#### 1.4.2æŠ½è±¡æ•°æ®ç±»å‹ VS æ•°æ®ç»“æ„
æŠ½è±¡æ•°æ®ç±»å‹å¼ºè°ƒçš„æ˜¯æ•°æ®çš„é€»è¾‘æ€§ï¼Œè€Œæ•°æ®ç»“æ„åˆ™å¼ºè°ƒçš„æ˜¯æ•°æ®å…ƒç´ ä¹‹é—´çš„ç»„ç»‡å½¢å¼ï¼Œå…¶ä¸­åŒ…æ‹¬é€»è¾‘ç»“æ„å’Œç‰©ç†ç»“æ„ã€‚ä¸¤è€…å¹¶æ²¡æœ‰æ‰€è°“çš„åŒ…å«å…³ç³»ï¼Œä½†æ˜¯æœ‰äº¤é›†ï¼Œå¯ä»¥ç†è§£ä¸ºæ•°æ®ç»“æ„å·²ç»ç«™åœ¨æ›´é«˜çš„å±‚æ¬¡ç»Ÿç­¹æ•°æ®çš„åˆç†ç»„ç»‡åƒæ˜¯ï¼Œè€ŒæŠ½è±¡æ•°æ®ç±»å‹è¿˜åœç•™åœ¨æ•°æ®å±‚é¢ï¼Œæ¯”æ•°æ®ç±»å‹æ›´é«˜ä¸€å±‚ï¼Œæ›´å…·æœ‰æ™®éæ€§çš„æŠ½è±¡ã€‚
```
ç±»æ¯”ï¼š
æ•°æ®ç±»å‹ -> ç±»
æŠ½è±¡æ•°æ®ç±»å‹ -> æ¥å£
æ•°æ®ç»“æ„ -> ä¸€ä¸ªè£…ç€ç±»çš„å®ä¾‹çš„æ•°ç»„
```
# äºŒ. çº¿æ€§è¡¨
>çº¿æ€§è¡¨ï¼šé›¶ä¸ªæˆ–è€…å¤šä¸ªæ•°æ®å…ƒç´ çš„æœ‰é™åºåˆ—ã€‚

æ€§è´¨ï¼š
- æ•°æ®å…ƒç´ å¯ä»¥ä¸ºç©º
- æ•°æ®å…ƒç´ æœ‰é™
- æ•°æ®å…ƒç´ ä¹‹é—´çš„é€»è¾‘ç»“æ„ä¸ºçº¿æ€§ç»“æ„ï¼Œä¹Ÿå°±æ˜¯ä¸€å¯¹ä¸€çš„å…³ç³»
- æ•°æ®å…ƒç´ ç±»å‹ç›¸åŒ
```
ä¸¾ä¸ªä¾‹å­ï¼š
ç™½ç¾Š -> é‡‘ç‰› -> åŒå­ -> å·¨èŸ¹ -> ç‹®å­ -> å¤„å¥³ -> å¤©ç§¤ -> å°„æ‰‹ -> æ‘©ç¾¯ -> æ°´å¹³ -> åŒé±¼

çº¿æ€§è¡¨çš„æŠ½è±¡æ•°æ®ç±»å‹ï¼š
ADT çº¿æ€§è¡¨ï¼ˆListï¼‰
Data
      çº¿æ€§è¡¨çš„æ•°æ®å¯¹è±¡é›†åˆä¸º{a1, a2, ......, an}ï¼Œæ¯ä¸€ä¸ªå…ƒç´ çš„ç±»å‹éƒ½æ˜¯DataTypeã€‚å…¶ä¸­ï¼Œé™¤ç¬¬ä¸€ä¸ªå…ƒç´ a1å¤–ï¼Œæ¯ä¸€ä¸ªå…ƒç´ æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªç›´æ¥å‰é©±å…ƒç´ ï¼Œé™¤äº†æœ€åä¸€ä¸ªå…ƒç´ anå¤–ï¼Œæ¯ä¸€ä¸ªå…ƒç´ æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªç›´æ¥åç»­å…ƒç´ ã€‚æ•°æ®å…ƒç´ ä¹‹é—´çš„å…³ç³»æ˜¯ä¸€å¯¹ä¸€çš„å…³ç³»ã€‚
Operation
       countï¼šçº¿æ€§è¡¨å…ƒç´ ä¸ªæ•°ã€‚
       firstï¼šå¤´æŒ‡é’ˆã€‚
       lastï¼šå°¾æŒ‡é’ˆã€‚
       isEmpty()ï¼šè‹¥çº¿æ€§è¡¨ä¸ºç©ºï¼Œè¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚
       remove()ï¼šå°†çº¿æ€§è¡¨æ¸…ç©º
       node(i)ï¼šå°†çº¿æ€§è¡¨ä¸­çš„ç¬¬iä¸ªä½ç½®çš„å…ƒç´ è¿”å›ã€‚
       insert(data,i)ï¼šåœ¨çº¿æ€§è¡¨ä¸­çš„ç¬¬iä¸ªä½ç½®æ’å…¥æ–°æ•°æ®dataã€‚
EndADT
```
çº¿æ€§è¡¨æ ¹æ®åœ¨è®¡ç®—æœºçš„å‚¨å­˜æ–¹å¼å¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼š
- é¡ºåºçº¿æ€§è¡¨
- é“¾å¼çº¿æ€§è¡¨

### 2.1é¡ºåºçº¿æ€§è¡¨
>é¡ºåºçº¿æ€§è¡¨ï¼šä½¿ç”¨ä¸€æ®µè¿ç»­çš„åœ°å€å­˜å‚¨å•å…ƒæ”¾ç½®çº¿æ€§è¡¨çš„æ•°æ®å…ƒç´ ã€‚

ä¸¾ä¸ªä¾‹å­ï¼šæ•°ç»„ã€‚
```
é¡ºåºçº¿æ€§è¡¨çš„ä¼˜ç¼ºç‚¹ï¼š
ä¼˜ç‚¹ï¼š
- å¯ä»¥å¿«é€Ÿè·å–ä¸‹æ ‡çš„æ•°æ®å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(1)
- é€»è¾‘å…³ç³»æ˜¯ä¸€å¯¹ä¸€çš„å…³ç³»ï¼Œè¿ç»­å­˜å‚¨å•å…ƒè¶³ä»¥å‚¨å­˜ï¼Œä¸éœ€è¦å¢åŠ é¢å¤–çš„å­˜å‚¨ç©ºé—´

ç¼ºç‚¹ï¼š
- æ’å…¥å’Œåˆ é™¤æ“ä½œéœ€è¦ç§»åŠ¨å¤§é‡çš„å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n)
- çº¿æ€§è¡¨çš„å­˜å‚¨ç©ºé—´å¤§å°éš¾ä»¥ç¡®å®šï¼Œå¹¶ä¸”ä¸å¥½æ‰©å±•
- é€ æˆå­˜å‚¨ç©ºé—´ç¢ç‰‡
```

### 2.2é“¾å¼çº¿æ€§è¡¨
>é“¾å¼çº¿æ€§è¡¨ï¼šçº¿æ€§è¡¨çš„æ•°æ®å…ƒç´ å¯ä»¥å­˜å‚¨åœ¨éšæ„çš„å­˜å‚¨å•å…ƒï¼Œæ¯ä¸€ä¸ªèŠ‚ç‚¹ä¸ä»…ä»…åŒ…æ‹¬æ•°æ®å…ƒç´ è¿˜æœ‰ä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆï¼ˆåŸºæœ¬çš„å•é“¾è¡¨ï¼‰ã€‚

é“¾å¼ï¼ˆå•é“¾è¡¨ï¼‰å’Œé¡ºåºçº¿æ€§è¡¨ä¼˜ç¼ºç‚¹å¯¹æ¯”ï¼š
```
å­˜å‚¨åˆ†é…æ–¹å¼ï¼š
- é¡ºåº -> ä¸€æ®µåœ°å€è¿ç»­çš„å­˜å‚¨ç©ºé—´
- é“¾å¼ -> ä»»æ„åœ°å€å­˜å‚¨ç©ºé—´

æ—¶é—´æ€§èƒ½ï¼š
- æŸ¥æ‰¾
  é¡ºåº -> O(1)
  é“¾å¼ -> O(n)
- æ’å…¥å’Œåˆ é™¤
  é¡ºåº -> O(n)
  é“¾å¼ -> å¯»æ‰¾ç›¸åº”çš„èŠ‚ç‚¹ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼Œç„¶åï¼Œæ’å…¥å’Œåˆ é™¤ä¸ºO(1)

ç©ºé—´æ€§èƒ½ï¼š
- é¡ºåº -> éœ€è¦æå‰åˆ†é…å­˜å‚¨ç©ºé—´ï¼Œåˆ†é…å¤§äº†ï¼Œæµªè´¹ç©ºé—´ï¼Œåˆ†é…å°äº†ï¼Œå®¹æ˜“å‘ç”Ÿä¸Šæº¢
- é“¾å¼ -> ä¸éœ€è¦æå‰åˆ†é…ç©ºé—´ï¼Œåªè¦æœ‰å­˜å‚¨ç©ºé—´åˆ†é…å°±è¡Œï¼Œæ•°æ®å…ƒç´ ä¸ªæ•°åªå—å¯åˆ†é…å­˜å‚¨ç©ºé—´å¤§å°çš„é™åˆ¶
```

æ€»ç»“ï¼š
ï¼ˆ1ï¼‰è‹¥çº¿æ€§è¡¨éœ€è¦é¢‘ç¹æŸ¥æ‰¾ï¼Œå¾ˆå°‘è¿›è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œæ—¶ï¼Œä½¿ç”¨é¡ºåºå­˜å‚¨ç»“æ„ï¼›åä¹‹ï¼Œä½¿ç”¨é“¾å¼å­˜å‚¨ç»“æ„ã€‚
ï¼ˆ2ï¼‰å¦‚æœæå‰çŸ¥é“çº¿æ€§è¡¨éœ€è¦çš„å­˜å‚¨ç©ºé—´ï¼Œå¯ä»¥ä½¿ç”¨é¡ºåºç»“æ„ï¼›å¦‚æœä¸çŸ¥é“çº¿æ€§è¡¨ä¸­çš„æ•°æ®å…ƒç´ å˜åŒ–æœ‰å¤šå¤§ï¼Œå³ä¸ç¡®å®šéœ€è¦å¤šå¤§çš„å­˜å‚¨ç©ºé—´ï¼Œåˆ™ä½¿ç”¨é“¾å¼å­˜å‚¨ç»“æ„ã€‚

#### 2.2.1é“¾å¼çº¿æ€§è¡¨çš„åŸºæœ¬åˆ†ç±»ï¼š

- å•å‘é“¾è¡¨ 
- é™æ€é“¾è¡¨ -> ä½¿ç”¨é¡ºåºç»“æ„å®ç°é“¾å¼çº¿æ€§è¡¨
- åŒå‘é“¾è¡¨ -> æ¯ä¸ªèŠ‚ç‚¹é™¤äº†æ•°æ®å…ƒç´ ï¼Œè¿˜åŒ…å«ä¸€ä¸ªæŒ‡å‘ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆå’Œä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ
- å¾ªç¯é“¾è¡¨ -> çº¿æ€§è¡¨çš„å°¾éƒ¨æŒ‡å‘å¤´èŠ‚ç‚¹ï¼Œå½¢æˆä¸€ä¸ªé—­ç¯

ä¸‹é¢å…·ä½“è®²è§£åŒé“¾è¡¨çš„Swiftå®ç°ï¼Œå…¶ä»–çš„é“¾è¡¨å®ç°å¯ä»¥å‚è€ƒã€Šå¤§è¯æ•°æ®ç»“æ„ã€‹æˆ–è€…è‡ªè¡ŒGoogel/Baiduã€‚
>åŒå‘é“¾è¡¨ï¼šåœ¨å•é“¾è¡¨çš„åŸºç¡€ä¸Šï¼Œæ¯ä¸ªèŠ‚ç‚¹åŠ ä¸€ä¸ªæŒ‡å‘ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆã€‚

èŠ‚ç‚¹å®šä¹‰ï¼š
```
public class LinkedListNode<T> {
    var data: T  //Data could not be nil.
    var previous: LinkedListNode?  //The pointer to previous node.
    var next: LinkedListNode?  //The pointer to next node.
    init(_ data: T) {
        self.data = data
    }
}
```
åŒå‘é“¾è¡¨ï¼š
```
public enum ErrorStatus {
    case Error(message: String)
    case OK
}

public class DoubleLinkedList<T> {
    public typealias Node = LinkedListNode<T>
    
    private var head: Node?  //Head node of link list.
    
    public var isEmpty: Bool {  //If link list has no data, return true.
        return head == nil
    }
    
    public var first: Node? {  //Get first node is the head of link list.
        return head
    }
    
    public var last: Node? {  //Last node of link list.
        ...
        return node
    }
    
    public var count: Int {  //Retrun link list's nodes count.
        ...
        return count
    }
    
    public func node(atIndex index: Int) -> Node? {  //Get node with index
        ...
        return node
    }
    
    public func appendData(data: T) {  //Append data to link list tail
        ...
    }
    
    public func insert(data: T, atIndex index: Int) -> ErrorStatus {  //Insert data at index
        guard index >= 0, index <= count else {
            return ErrorStatus.Error(message: "Index is out of range!")
        }
        let newNode = Node(data)
        if index == 0 {
            if let node = first {
                head = newNode
                newNode.next = node
                node.previous = newNode
            } else {
                head = newNode
            }
        } else {
            let node = self.node(atIndex: index-1)
            let nextNode = self.node(atIndex: index)
            node?.next = newNode
            newNode.previous = node
            newNode.next = nextNode
            nextNode?.previous = newNode
        }
        return ErrorStatus.OK
    }
    
    public func remove(atIndex index: Int) -> (T?, ErrorStatus) {  //Remove node at index
        guard !isEmpty else {
            return (nil, ErrorStatus.Error(message: "Link list is Empty!"))
        }
        
        guard index >= 0, index < count else {
            return (nil, ErrorStatus.Error(message: "Index is out of range!"))
        }
        
        let node = self.node(atIndex: index)
        let nextNode = self.node(atIndex: index+1)
        if index == 0 {
            head = nextNode
        } else {
            let beforeNode = self.node(atIndex: index-1)
            beforeNode?.next = nextNode
            nextNode?.previous = beforeNode
        }
        return (node?.data, ErrorStatus.OK)
    }    
}
```
âš ï¸æ³¨æ„ï¼š
è¿™é‡Œçš„headæŒ‡å‘ç¬¬ä¸€ä¸ªæœ‰æ•°æ®çš„èŠ‚ç‚¹ï¼Œæœ‰çš„çº¿æ€§è¡¨ä¼šç”Ÿæˆä¸€ä¸ªå¤´èŠ‚ç‚¹ï¼Œè¯¥èŠ‚ç‚¹ä¸å­˜å‚¨ä»»ä½•æ•°æ®æˆ–è€…åªå­˜å‚¨è¯¥é“¾è¡¨çš„é•¿åº¦ï¼Œè¯¥èŠ‚ç‚¹æŒ‡å‘ç¬¬ä¸€ä¸ªæœ‰æ•°æ®çš„èŠ‚ç‚¹ã€‚è¿™æ ·åšçš„å¥½å¤„å°±æ˜¯ï¼Œç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„åˆ é™¤å’Œæ’å…¥æ“ä½œå’Œå…¶ä»–èŠ‚ç‚¹ä¿æŒä¸€è‡´ã€‚

ä¸‹é¢ä¸»è¦è§£é‡Šä¸€ä¸‹ï¼Œæ’å…¥å’Œåˆ é™¤æ“ä½œï¼š
- **insert**
```
public func insert(data: T, atIndex index: Int) -> ErrorStatus {  //Insert data at index
    guard index >= 0, index <= count else {
        return ErrorStatus.Error(message: "Index is out of range!")
    }
    let newNode = Node(data)
    if index == 0 {
        if let node = first {
            head = newNode
            newNode.next = node
            node.previous = newNode
        } else {
            head = newNode
        }
    } else {
        let node = self.node(atIndex: index-1)
        let nextNode = self.node(atIndex: index)
        node?.next = newNode
        newNode.next = nextNode
        newNode.previous = node
        nextNode?.previous = newNode
    }
    return ErrorStatus.OK
}
```
1.å…ˆåˆ¤æ–­éœ€è¦æ’å…¥æ•°æ®çš„indexæ˜¯å¦åœ¨[0, count]çš„èŒƒå›´ä¹‹å†…ï¼Œæ³¨æ„è¿™é‡Œæ˜¯æ–¹æ‹¬å·ï¼Œä¹Ÿå°±æ˜¯åŒ…å«è¾¹ç•Œï¼Œå› ä¸ºçº¿æ€§è¡¨æœ€å‰é¢å’Œæœ€åé¢éƒ½å¯ä»¥æ’å…¥æ–°çš„æ•°æ®ã€‚
2.ç”Ÿæˆæ–°èŠ‚ç‚¹ã€‚
3.å› ä¸ºè¿™é‡Œçš„åŒå‘é“¾è¡¨æ²¡æœ‰é‡‡å–å¤´èŠ‚ç‚¹çš„æ–¹å¼å®ç°ï¼Œæ‰€ä»¥ï¼Œæ’å…¥ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å’Œå…¶ä»–èŠ‚ç‚¹æœ‰ç‚¹ä¸ä¸€æ ·ï¼Œéœ€è¦åšä¸€äº›åˆ¤æ–­ã€‚
4.å¦‚æœæ˜¯æ’å…¥ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œåˆ™åˆ¤æ–­å¦‚æœè¯¥é“¾è¡¨ä¸ºç©ºï¼Œåˆ™ç›´æ¥è®¾ç½®head=newNodeï¼›å¦‚æœè¯¥é“¾è¡¨ä¸ä¸ºç©ºï¼Œåˆ™å°†ä¸€ä¸ªèŠ‚ç‚¹èµ‹å€¼ç»™nodeï¼Œç„¶åå°†newNodeèµ‹å€¼ç»™headï¼Œæ¥ç€å°†nodeèµ‹å€¼ç»™newNode.nextï¼Œæœ€åè®¾ç½®node.previous=newNodeã€‚
5.å¦‚æœä¸æ˜¯æ’å…¥ä¸€ä¸ªèŠ‚ç‚¹ï¼Œåˆ™å…ˆè·å–ä¸‹æ ‡ä¸ºindex-1çš„èŠ‚ç‚¹nodeï¼Œç„¶åè·å–ä¸‹æ ‡ä¸ºindexçš„èŠ‚ç‚¹nextNodeã€‚è®¾ç½®node.next=newNodeï¼Œç„¶ånewNode.next=nextNodeï¼Œè¿æˆä¸€æ¡æŒ‡å‘ä¸‹ä¸€ä¸ªæ•°æ®å…ƒç´ çš„é“¾ï¼Œæœ€åè®¾ç½®newNode.previous=nodeå’ŒnextNode.previous=newNodeè¿ä¸ŠæŒ‡å‘ä¸Šä¸€ä¸ªæ•°æ®å…ƒç´ çš„é“¾ï¼Œè‡ªæ­¤ï¼Œå…ˆçš„æ•°æ®æ’å…¥æˆåŠŸã€‚

- **remove**
æ— è®ºinsertè¿˜æ˜¯removeéƒ½æ˜¯å…ˆæ‹†é“¾ï¼Œç„¶åå†ç»„åˆæˆæ–°çš„æ•°æ®é“¾ã€‚
```
public func remove(atIndex index: Int) -> (T?, ErrorStatus) {  //Remove node at index
    guard !isEmpty else {
        return (nil, ErrorStatus.Error(message: "Link list is Empty!"))
    }
    
    guard index >= 0, index < count else {
        return (nil, ErrorStatus.Error(message: "Index is out of range!"))
    }
    
    let node = self.node(atIndex: index)
    let nextNode = self.node(atIndex: index+1)
    if index == 0 {
        head = nextNode
    } else {
        let beforeNode = self.node(atIndex: index-1)
        beforeNode?.next = nextNode
        nextNode?.previous = beforeNode
    }
    return (node?.data, ErrorStatus.OK)
}
```
1.å…ˆåˆ¤æ–­æ˜¯å¦æ˜¯ç©ºé“¾ï¼Œå¦‚æœæ˜¯åˆ™è¿”å›ï¼Œå¦åˆ™å†åˆ¤æ–­éœ€è¦åˆ é™¤æ•°æ®çš„å°è¡¨æ˜¯å¦åœ¨åˆç†èŒƒå›´å†…ï¼Œå¦‚æœä¸æ˜¯åˆ™è¿”å›ã€‚
2.åˆ¤æ–­indexæ˜¯å¦ç­‰äº0ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™ç›´æ¥å°†head=secondNodeã€‚
3.è·å–beforeNodeå’ŒnextNodeï¼Œç„¶åå°†beforeNode.next=nextNodeï¼ŒnextNode,previous=beforeNodeï¼Œè‡ªæ­¤ï¼Œä¸‹æ ‡ä¸ºindexçš„èŠ‚ç‚¹ï¼Œæ²¡æœ‰ä»»ä½•å¯¹è±¡æŒ‡å‘å®ƒï¼Œåœ¨å½“å‰å‡½æ•°åŸŸå¤–å°±å¤–è¢«ç³»ç»Ÿå›æ”¶æ‰ã€‚
# ä¸‰. æ ˆä¸é˜Ÿåˆ—

### 3.1æ ˆ

>æ ˆï¼šé™å®šåœ¨è¡¨å°¾è¿›è¡Œæ’å…¥å’Œåˆ é™¤çš„çº¿æ€§è¡¨ã€‚

æ ˆæ˜¯ä¸€ç§LIFO(Last In First Out)çš„çº¿æ€§è¡¨ï¼Œä¹Ÿå°±æ˜¯æ•°æ®å…ƒç´ éµå¾ªåè¿›å…ˆå‡ºçš„åŸåˆ™ã€‚

æ ˆçš„æŠ½è±¡æ•°æ®ç±»å‹ï¼š
```
ADT æ ˆ(Stack)
Data
      å…·æœ‰çº¿æ€§è¡¨ä¸€æ ·çš„æ€§è´¨ã€‚
Operation
      topï¼šè·å–æ ˆé¡¶å…ƒç´ 
      countï¼šæ ˆçš„é•¿åº¦
      isEmptyï¼šæ ˆå†…å…ƒç´ æ˜¯å¦ä¸ºç©º
      push(data)ï¼šå…ƒç´ è¿›æ ˆ
      pop()ï¼šå…ƒç´ å‡ºæ ˆ
      removeAll()ï¼šæ¸…ç©ºæ ˆå†…å…ƒç´ 
EndADT
```
æŒ‰æ ˆçš„å­˜å‚¨ç»“æ„åˆ†ç±»ï¼š
- æ ˆçš„é¡ºåºå­˜å‚¨ç»“æ„
  å•æ ˆ
  å…±äº«æ ˆ
- æ ˆçš„é“¾å¼å­˜å‚¨ç»“æ„

å…±äº«æ ˆï¼š
ä¸¤ä¸ªé¡ºåºæ ˆå…±äº«å­˜å‚¨ç©ºé—´ï¼Œæ ˆ1çš„æ ˆé¡¶åœ¨ä¸‹æ ‡0å¤„ï¼Œæ ˆ2çš„æ ˆé¡¶åœ¨ä¸‹æ ‡n-1å¤„ã€‚
```
æ ˆçš„é¡ºåºç»“æ„å’Œé“¾å¼ç»“æ„åŒºåˆ«ï¼š
1.é¡ºåºç»“æ„éœ€è¦é¢„å…ˆä¼°ç®—å­˜å‚¨ç©ºé—´å¤§å°ï¼Œé€‚åˆæ•°æ®å…ƒç´ å˜åŒ–ä¸å¤§çš„æƒ…å†µ
2.é“¾å¼ç»“æ„ä¸éœ€è¦é¢„å…ˆä¼°ç®—å­˜å‚¨ç©ºé—´ï¼Œé€‚åˆæ•°æ®å…ƒç´ å˜åŒ–è¾ƒå¤§çš„æƒ…å†µ
```
æ ˆçš„é“¾å¼ç»“æ„å®ç°ï¼š
```
public struct Stack<T> {
    private var stackData: [T] = []
    
    public var count: Int {
        return stackData.count
    }
    
    public var top: T? {
        if isEmpty {
            return nil
        } else {
            return stackData.last
        }
    }
    
    public var isEmpty: Bool {
        return stackData.isEmpty
    }
    
    public mutating func push(data: T) {
        stackData.append(data)
    }
    
    public mutating func pop() -> T? {
        if isEmpty {
            return nil
        } else {
            return stackData.removeLast()
        }
    }
    
    public mutating func removeAll() {
        stackData.removeAll()
    }
    
    public func printAllData() {
        for item in stackData {
            print(item)
        }
    }
}
```
ä¸Šé¢çš„ä»£ç å†™çš„éå¸¸æ¸…æ¥šï¼Œä¸€ç›®äº†ç„¶ï¼Œè¿™é‡Œå°±ä¸è´¹å£èˆŒäº†ã€‚
#### 3.1.1æ ˆè¾ƒä¹‹çº¿æ€§è¡¨æœ‰ä»€ä¹ˆç‰¹åˆ«ä½œç”¨ï¼ŸğŸ˜Š

æ ˆå’Œçº¿æ€§è¡¨çš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œæ ˆåªæœ‰è¿›æ ˆå’Œå‡ºæ ˆæ“ä½œï¼Œå¹¶ä¸”éµå¾ªåè¿›å…ˆå‡ºçš„è§„åˆ™ï¼Œä¹Ÿå°±æ˜¯è¯´æ•°æ®å…ƒç´ é¡ºåºè¿›æ ˆï¼Œé€†åºå‡ºæ ˆã€‚å˜¿å˜¿ï¼Œæ ˆå¯ä»¥å®ç°å›é€€æ“ä½œï¼Œé€’å½’å’Œå››åˆ™è¿ç®—ç­‰ç­‰ã€‚
- **é€’å½’**
`å¬è¯´è¿‡æ–æ³¢é‚£å¥‘æ•°åˆ—å—ï¼ŸğŸ˜æ²¡é”™å°±æ˜¯å…”å­ç¹æ®–ğŸ°ï¼š`

| æ‰€ç»è¿‡çš„æœˆæ•° | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 |
| :----------------- | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: |
| å…”å­å¯¹æ•°        | 1 | 1 | 2 | 3 | 5 | 8 | 13 | 21 |
ä»¥æœˆæ•°ä¸ºè‡ªå˜é‡ï¼Œå…”å­çš„å¯¹æ•°ä¸ºå› å˜é‡ï¼Œåˆ™å®ƒä»¬ä¹‹é—´çš„å…³ç³»ä¸ºï¼š
```
F(0) = 0, n=0
F(1) = 1, n=1
F(n) = F(n-1) + F(n-2), n>1
```
ä¸‹é¢ä½¿ç”¨å¸¸è§„çš„æ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜ï¼š
```
func rabbitNumbers() {
    //After 40 months
    var r0 = 0
    print("rabbit: \(r0)")
    var r1 = 1
    print("rabbit: \(r1)")
    var r: Int = 0
    for _ in 2..<40 {
        r = r0 + r1
        print("rabbit: \(r)")
        r0 = r1
        r1 = r
    }
}
```
å†è€…ä½¿ç”¨é€’å½’è§£å†³è¿™ä¸ªé—®é¢˜ï¼š
```
func rabbitNumbers(months n: Int) -> Int {
    if n < 2 {
        return n
    }
    return rabbitNumbers(months: n-1)+rabbitNumbers(months: n-2)
}

for i in 0..<40 {
    let rabbits = rabbitNumbers(months: i)
    print("rabbit: \(rabbits)")
}
```
æ¯”è¾ƒä¸€ä¸‹å‰é¢ä¸¤ä¸ªçš„å·®å¼‚ï¼š
```
å¸¸è§„æ–¹æ³•ï¼š
    ä½¿ç”¨ä¸€ä¸ªè¿­ä»£çš„æ–¹å¼ï¼Œè®¡ç®—å‡ºç»“æœã€‚ä¸éœ€è¦åå¤è°ƒç”¨å‡½æ•°ï¼Œæµªè´¹å†…å­˜ã€‚ä½†æ˜¯ï¼Œç›¸å¯¹äºé€’å½’æ¥è¯´ï¼Œæ²¡æœ‰é‚£ä¹ˆç®€æ´ã€‚
é€’å½’ï¼š
    é€’å½’å°±éœ€è¦ä¸æ–­è°ƒç”¨å‡½æ•°ï¼Œå»ºç«‹å‡½æ•°å‰¯æœ¬ï¼Œæ¶ˆè€—å¤§é‡çš„å†…å­˜ã€‚ä½†æ˜¯ï¼Œç›¸å¯¹äºå¸¸è§„æ–¹æ³•ï¼Œä»£ç ç®€æ´æ˜“æ‡‚ã€‚
```
`ä¸ºä»€ä¹ˆè¯´é€’å½’æ˜¯æ ˆçš„åº”ç”¨å‘¢ï¼Ÿ`
é€’å½’åœ¨æ‰§è¡Œçš„æ—¶å€™ï¼Œéœ€è¦ä¸æ–­çš„è°ƒç”¨è‡ªèº«ï¼Œç›´åˆ°å¯ä»¥è¿”å›ç¡®å®šçš„å€¼ï¼Œç„¶åï¼Œåˆä»æœ€åé¢çš„ä¸€å±‚ï¼Œä¸€å±‚å±‚å¾€å›è°ƒï¼Œç›´åˆ°æœ€ä¸Šä¸€å±‚ï¼Œè¿™ä¸ªä¸¤ä¸ªæ“ä½œæ­£å¥½å¯¹åº”ç€æ ˆçš„å‹æ ˆå’Œå‡ºæ ˆçš„æ“ä½œã€‚å…¶å®ï¼Œç¼–è¯‘å™¨ä¹Ÿæ˜¯è¿™æ ·å¹²çš„ï¼Œåœ¨å‰è¡Œé˜¶æ®µï¼Œå¯¹äºæ¯ä¸€å±‚é€’å½’ï¼Œå‡½æ•°çš„å±€éƒ¨å˜é‡ï¼Œå‚æ•°å€¼å’Œè¿”å›åœ°å€éƒ½å‹è¿›æ ˆï¼›åœ¨é€€å›é˜¶æ®µï¼Œä½äºæ ˆé¡¶çš„å±€éƒ¨å˜é‡ï¼Œå‚æ•°å€¼ä»¥åŠè¿”å›åœ°å€éƒ½è¢«å¼¹å‡ºï¼Œç”¨äºè¿”å›è°ƒç”¨å±‚æ¬¡ä¸­æ‰§è¡Œä»£ç çš„å‰©ä½™éƒ¨åˆ†ï¼Œæ¢å¤è°ƒç”¨çŠ¶æ€ã€‚
- **å››åˆ™è¿ç®—**
å››åˆ™è¿ç®—å°±æœ‰æ„æ€äº†ã€‚è‡ªå·±ç”¨ç¬”å’Œçº¸ç®—æ•°å­¦é¢˜çŸ¥é“æ€ä¹ˆåšï¼Œä½†æ˜¯è®¡ç®—æœºå‘¢ï¼Ÿæ€ä¹ˆç®—åŠ å‡ä¹˜é™¤çš„ï¼Ÿæ¯•ç«Ÿè®¡ç®—æœºåªèƒ½è¯†åˆ«0å’Œ1ã€‚ğŸ˜Š

ä¸€èˆ¬æ‰‹åŠ¨è®¡ç®—æ•°å­¦é¢˜æˆ‘ä»¬ç”¨çš„æ˜¯ä¸­ç¼€è¡¨è¾¾æ³•ï¼ˆç¬¦å·åœ¨éœ€è¦è¿ç®—çš„æ•°å­—ä¸­é—´ï¼‰ï¼š
```
9 + (3 - 1) * 3 + 10 / 2
```
è®¡ç®—æœºè¿ç®—éœ€è¦ç”¨åˆ°çš„åç¼€è¡¨è¾¾æ³•ï¼ˆå»è°ƒæ‹¬å·ï¼Œç¬¦å·åœ¨éœ€è¦è¿ç®—çš„æ•°å­—åé¢ï¼‰ï¼š
```
9 3 1 - 3 * + 10 2 / +
```
æ‰€ä»¥ï¼Ÿæ€ä¹ˆå¾—åˆ°åç¼€è¡¨è¾¾å¼å‘¢ï¼Ÿåˆ©ç”¨æ ˆï¼š
```
è§„åˆ™ï¼š
1.é‡åˆ°æ•°å­—ï¼Œç›´æ¥è¾“å‡º
2.é‡åˆ°å·¦æ‹¬å·è¿›æ ˆ
3.é‡åˆ°å³æ‹¬å·æ‰§è¡Œå‡ºæ ˆæ“ä½œï¼Œç›´åˆ°å¼¹å‡ºå·¦æ‹¬å·ï¼Œå·¦æ‹¬å·å’Œå³æ‹¬å·ä¸è¾“å‡º
4.é‡åˆ°å…¶ä»–æ“ä½œç¬¦ï¼Œåˆ™åˆ¤æ–­å…¶ä¸æ ˆé¡¶æ“ä½œç¬¦çš„ä¼˜å…ˆçº§ï¼Œå¦‚æœå…¶ä¼˜å…ˆçº§ï¼ˆ<=ï¼‰æ ˆé¡¶æ“ä½œç¬¦ï¼Œåˆ™æ ˆé¡¶å…ƒç´ ä¾æ¬¡å‡ºæ ˆï¼Œè¯¥æ“ä½œç¬¦è¿›æ ˆ
5.ç›´åˆ°æœ€åï¼Œå°†æ ˆä¸­çš„å…ƒç´ ä¾æ¬¡è¾“å‡º

enum OperationPriority: String {
    case multi = "*"
    case divide = "/"
    case add = "+"
    case sub = "-"
    
    var intValue: Int {
        switch self {
        case .multi,.divide:
            return 1
        case .add, .sub:
            return 0
        }
    }
}

func suffixExpFromMiddleExp(exps: Array<String>) -> Array<String>{
    var suffixExp: [String] = Array()
    var stack = Stack<String>()
    let predicate = NSPredicate.init(format: "SELF MATCHES %@", "^[0-9]*$")
    for value in exps {
        if predicate.evaluate(with: value) {
            suffixExp.append(value)
        } else if value == "(" {
            stack.push(data: value)
        } else if value == ")" {
            while stack.top != "(" {
                suffixExp.append(stack.pop() ?? "")
            }
            if stack.top == "(" {
                stack.pop()
            }
        } else {
            //value <= top, stack.pop;value > top, stack.push
            let advantage = OperationPriority.init(rawValue: value)?.intValue ?? 0
            var topAdvantage: Int = 0
            while let top = stack.top, top != "(" {
                topAdvantage = OperationPriority.init(rawValue: top)?.intValue ?? 0
                if advantage > topAdvantage {
                    break
                } else {
                    suffixExp.append(top)
                    stack.pop()
                }
            }
            stack.push(data: value)
        }
    }
    while let top = stack.top {
        suffixExp.append(top)
        stack.pop()
    }
    return suffixExp
}

let exp = ["9", "+", "(", "3", "-", "1", ")", "*", "3", "+", "10", "/", "2"]  
//ä¸­ç¼€è¡¨è¾¾å¼ï¼š9+(3-1)*3+10/2
//åç¼€è¡¨è¾¾å¼ï¼š9 3 1 - 3 * + 10 2 / +
```
**æ³¨ï¼š[åç¼€è¡¨è¾¾å¼æ›´å¤šè·å–æ–¹æ³•ã€‚](https://blog.csdn.net/summerxiachen/article/details/77073320)**

å¾—åˆ°äº†åç¼€è¡¨è¾¾å¼ï¼Œé‚£ä¹ˆå¼€å§‹æˆ‘ä»¬çš„å››åˆ™è¿ç®—äº†ã€‚ğŸ˜Š
```
è§„åˆ™ï¼š
1.æ•°å­—ç›´æ¥è¿›æ ˆ
2.é‡åˆ°ç¬¦å·ï¼Œå°†æ ˆé¡¶ä¸¤ä¸ªæ•°å­—å‡ºæ ˆï¼Œè¿›è¡Œè¿ç®—ï¼Œè¿ç®—ç»“æœè¿›æ ˆ

//åœ¨ä¸Šé¢çš„æšä¸¾åŠ ä¸€ä¸ªè®¡ç®—åŠ å‡ä¹˜é™¤çš„å‡½æ•°
enum OperationPriority: String {
    ...
    func result(operator1: String, operator2: String) -> Int {
        switch self {
        case .multi:
            return Int(operator1)!*Int(operator2)!
        case .divide:
            return Int(operator1)!/Int(operator2)!
        case .add:
            return Int(operator1)!+Int(operator2)!
        case .sub:
            return Int(operator1)!-Int(operator2)!
        }
    }
}

func mathOperation(exps: Array<String>) -> Int {
    var result = 0
    var stack = Stack<String>()
    let predicate = NSPredicate.init(format: "SELF MATCHES %@", "^[0-9]*$")
    for value in exps {
        if predicate.evaluate(with: value) {
            stack.push(data: value)
        } else {
            let operator2 = stack.pop()
            let operator1 = stack.pop()
            let temp = (OperationPriority.init(rawValue: value)?.result(operator1: operator1!, operator2: operator2!))!
            stack.push(data: "\(temp)")
        }
    }
    if let resultStr = stack.pop() {
        result = Int(resultStr)!
    }
    return result
}
let exp = ["9", "+", "(", "3", "-", "1", ")", "*", "3", "+", "10", "/", "2"]  
//result=20
```
æ˜¯ä¸æ˜¯å¾ˆæœ‰æ„æ€ï¼Œä¸€ä¸ªç®€å•çš„å››åˆ™è¿ç®—å°±è¿™æ ·å®ç°å‡ºæ¥äº†ã€‚æ ˆåœ¨è®¡ç®—æœºé‡Œé¢ç”¨çš„æŒºå¤šçš„ï¼Œæ¯”å¦‚ï¼Œç³»ç»Ÿç®¡ç†çš„å¯¹è±¡å°±æ˜¯æ”¾è¿›ä¸€ä¸ªå…¨å±€æ ˆé‡Œé¢çš„ï¼Œç­‰ä¸éœ€è¦çš„æ—¶å€™ï¼Œä¸€ä¸ªä¸€ä¸ªå‡ºæ ˆï¼Œé‡Šæ”¾æ‰€å çš„å†…å­˜ã€‚

### 3.2é˜Ÿåˆ—

>é˜Ÿåˆ—ï¼šåªå…è®¸åœ¨ä¸€ç«¯è¿›è¡Œæ’å…¥æ“ä½œï¼Œè€Œåœ¨å¦ä¸€ç«¯è¿›è¡Œåˆ é™¤æ“ä½œçš„çº¿æ€§è¡¨ã€‚

é˜Ÿåˆ—å…¶å®å’Œæ˜¾ç¤ºç¤¾ä¼šæ’é˜Ÿä¹°ä¸œè¥¿çš„é˜Ÿåˆ—ä¸€ä¸ªé“ç†ï¼Œéƒ½æ˜¯ä¸€è¾¹è¿›ï¼Œä¸€è¾¹å‡ºï¼Œæ’é˜Ÿæ˜¯ä¼šè¢«æ‰€æœ‰äººé„™è§†çš„ğŸ˜’ï¼Œæ…é‡ã€‚

é˜Ÿåˆ—çš„æŠ½è±¡æ•°æ®ç±»å‹ï¼š
```
ADT é˜Ÿåˆ—(Queue)
Data
    å…·æœ‰çº¿æ€§è¡¨ä¸€æ ·çš„æ€§è´¨ã€‚
Operation
    frontï¼šé˜Ÿåˆ—ç¬¬ä¸€ä¸ªæ•°æ®
    countï¼šé˜Ÿåˆ—çš„é•¿åº¦
    isEmpty()ï¼šé˜Ÿåˆ—æ˜¯å¦ä¸ºç©º
    enQueue(data)ï¼šæ•°æ®è¿›é˜Ÿåˆ—
    deQueue()ï¼šæ•°æ®å‡ºé˜Ÿåˆ—
    removeAll()ï¼šæ¸…ç©ºé˜Ÿåˆ—å†…çš„æ‰€æœ‰æ•°æ®
EndADT
```
æŒ‰çº¿æ€§è¡¨çš„å­˜å‚¨ç»“æ„åˆ†ç±»ï¼š
- çº¿æ€§å­˜å‚¨ç»“æ„
  é¡ºåºé˜Ÿåˆ—
  å¾ªç¯é¡ºåºé˜Ÿåˆ—
- é“¾å¼å­˜å‚¨ç»“æ„
  é“¾å¼é˜Ÿåˆ—
```
é¡ºåºé˜Ÿåˆ—ï¼šå°±æ˜¯ä½¿ç”¨æ•°ç»„æ¥æ¨¡æ‹Ÿé˜Ÿåˆ—ï¼Œä½†æ˜¯æ•°ç»„çš„æ’å…¥å’Œåˆ é™¤éœ€è¦ç§»åŠ¨æ•°æ®ï¼Œæ¯”è¾ƒç¹çã€‚
å¾ªç¯é¡ºåºé˜Ÿåˆ—ï¼šåœ¨é¡ºåºé˜Ÿåˆ—çš„åŸºç¡€ä¸Šæ”¹é€ ï¼Œä½¿é˜Ÿåˆ—çš„é˜Ÿå¤´å’Œé˜Ÿå°¾å¯ä»¥åœ¨æ•°ç»„ä¸­å¾ªç¯å˜åŒ–ï¼Œåœ¨æ•°æ®æ’å…¥å’Œåˆ é™¤å°±ä¸éœ€è¦é¢‘ç¹ç§»åŠ¨æ•°æ®äº†ã€‚ä½†æ˜¯é¡ºåºé˜Ÿåˆ—ï¼Œéƒ½éœ€è¦æå‰ç”³è¯·å­˜å‚¨ç©ºé—´ï¼Œè¿˜æœ‰æº¢å‡ºçš„å¯èƒ½ã€‚
é“¾å¼é˜Ÿåˆ—ï¼šä¸ºäº†è§£å†³é¡ºåºé˜Ÿåˆ—çš„ä¸è¶³ï¼Œå¼•ç”¨é“¾å¼é˜Ÿåˆ—ã€‚ä¸éœ€è¦æå‰ç”³è¯·ç©ºé—´ï¼Œåªä¸è¿‡ä¼šå¼•å…¥é¢‘ç¹ç”³è¯·å’Œé‡Šæ”¾çš„æ“ä½œã€‚
```
é˜Ÿåˆ—çš„é“¾å¼ç»“æ„å®ç°ï¼š
```
public struct Queue<T> {
    private var queueData: [T] = []
    
    public var front: T? {
        return queueData.first
    }
    
    public var isEmpty: Bool {
        return queueData.isEmpty
    }
    
    public var count: Int {
        return queueData.count
    }
    
    public mutating func enQueue(_ data: T) {
        queueData.append(data)
    }
    
    public mutating func deQueue() -> T? {
        if isEmpty {
            return nil
        } else {
            return queueData.removeFirst()
        }
    }
    
    public mutating func removeAll() {
        queueData.removeAll()
    }
    
    public func printAllData() {
        for value in queueData {
            print(value)
        }
    }
}
```
#### 3.2.1é˜Ÿåˆ—æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ
åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæ¥è§¦æœ€å¤šçš„åº”è¯¥æ˜¯å…¨å±€å¹¶å‘é˜Ÿåˆ—ã€‚ä¸ºä»€ä¹ˆè¦ç”¨é˜Ÿåˆ—å®ç°å‘¢ï¼Ÿåœ¨æˆ‘çœ‹æ¥ï¼Œåœ¨çº¿ç¨‹çš„ä¼˜å…ˆçº§ä¸€æ ·çš„æƒ…å†µä¸‹ï¼Œä¸åº”è¯¥å…ˆç”³è¯·ç³»ç»Ÿèµ„æºçš„å…ˆè¢«æ»¡è¶³å—ï¼Ÿè¿™å’Œåœ¨é“¶è¡Œæ’é˜Ÿå–é’±æ˜¯ä¸€ä¸ªé“ç†ã€‚å½“ç„¶ï¼ŒVIPå°±å¯ä»¥æ— è§†æˆ‘ä»¬è¿™äº›åœ¨å‰å°æ’é˜Ÿå–é’±çš„æ¸£æ¸£ï¼Œä»–ä»¬æœ‰ä¸“é—¨çš„é€šé“ï¼Œå¤šä¹ˆç—›çš„é¢†æ‚ŸğŸ˜“ã€‚

# å››. ä¸²
>ä¸²ï¼šæ˜¯ç”±é›¶ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ç»„æˆçš„æœ‰é™åºåˆ—ï¼Œåˆå«å­—ç¬¦ä¸²ã€‚

å­—ç¬¦ä¸²åœ¨å¼€å‘çš„æ—¶å€™å¾ˆå¸¸ç”¨ï¼Œä»¥Objective-Cä¸ºä¾‹ï¼Œæœ‰å¯å˜å­—ç¬¦ä¸²å’Œä¸å¯å˜å­—ç¬¦ä¸²ï¼Œä¸¤è€…çš„å®ç°æ•°æ®ç»“æ„åº”è¯¥æœ‰ç‚¹åŒºåˆ«ï¼›ä¸€ä¸ªæ˜¯é“¾å¼å­˜å‚¨ç»“æ„ï¼Œä¸€ä¸ªæ˜¯é¡ºåºå­˜å‚¨ç»“æ„ã€‚

å­—ç¬¦ä¸²çš„æŠ½è±¡æ•°æ®ç±»å‹ï¼š
```
ADT ä¸²ï¼ˆStringï¼‰
Data
    ä¸²ä¸­å…ƒç´ ä»…ç”±ä¸€ä¸ªå­—ç¬¦ç»„æˆï¼Œç›¸é‚»å…ƒç´ å…·æœ‰å‰é©±å’Œåç»­å…³ç³»ã€‚
Operation
    StringEmpty(S)ï¼šè‹¥ä¸²Sä¸ºç©ºï¼Œè¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚
    ...
EndADT
```
æŒ‰å­˜å‚¨ç»“æ„åˆ†ç±»ï¼š
- é¡ºåºå­˜å‚¨ç»“æ„çš„å­—ç¬¦ä¸²
- é“¾å¼å­˜å‚¨ç»“æ„çš„å­—ç¬¦ä¸²

### 4.1å­—ç¬¦ä¸²çš„æ¨¡å¼åŒ¹é…
æœ´ç´ çš„æ¨¡å¼åŒ¹é…ç®—æ³•ï¼šæ ¸å¿ƒæ€æƒ³ï¼Œéœ€è¦åŒ¹é…çš„å­—ç¬¦ä¸²å’Œä¸»ä¸²ä»ä¸‹æ ‡0å¼€å§‹åŒ¹é…ï¼Œä¸€æ—¦å­ä¸²ä¸åŒ¹é…ï¼Œåˆ™å­ä¸²åˆä»ä¸‹æ ‡0å¼€å§‹åŒ¹é…ï¼Œä¸»ä¸²åˆ™æŒªåˆ°ä¸‹æ ‡1ï¼Œä¸æ–­çš„å¾ªç¯è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°ä¸»ä¸²æˆ–è€…å­—ä¸²å½“å‰çš„ä¸‹æ ‡è¶…è¿‡å­—ç¬¦ä¸²çš„é•¿åº¦æˆ–è€…åŒ¹é…æˆåŠŸè¿”å›ã€‚

```
let s = "goodgoogle"
let t = "google"

func matchString(s: String, t: String) -> Int {
    var post: Int = -1
    guard !s.isEmpty || !t.isEmpty else {
        return post
    }
    
    var i = 0  //s current index
    var j = 0  //t current index
    
    while i < s.count, j < t.count {
        let sIndex = s.index(s.startIndex, offsetBy: i)
        let tIndex = t.index(t.startIndex, offsetBy: j)
        let sStr = s[sIndex]
        let tStr = t[tIndex]
        if sStr == tStr {
            i = i+1
            j = j+1
        } else {
            i = i-j+1
            j = 0
        }
    }
    if j > t.count-1 {
        post = i-t.count
    }
    return post
}
```
æœ´ç´ çš„æ¨¡å¼åŒ¹é…ï¼Œè™½ç„¶ï¼Œç®€å•æ˜äº†ï¼Œä½†æ˜¯æ•ˆç‡ä½ã€‚æ‰€ä»¥ï¼Œå¼ºå¤§çš„KMPæ¨¡å¼åŒ¹é…ç®—æ³•å°±åº”è¿è€Œç”Ÿäº†ã€‚
å¼ºå¤§çš„KMPç®—æ³•ï¼Œè¿™ä¸ªå¯ä»¥çœ‹æˆ‘ä¹‹å‰å†™çš„[KMPå­—ç¬¦ä¸²åŒ¹é…ç®—æ³•](https://www.jianshu.com/p/68e9a227cb45)ï¼Œè¿™é‡Œå°±ä¸åšè¯¦ç»†çš„ä»‹ç»äº†ã€‚
# äº”. æ ‘

>æ ‘ï¼šnï¼ˆn>=0ï¼‰ä¸ªç»“ç‚¹çš„æœ‰é™é›†ã€‚
```
ç‰¹ç‚¹ï¼š
- n=0æ—¶ï¼Œç§°ä¸ºç©ºæ ‘ã€‚
- åœ¨ä»»æ„ä¸€é¢—éç©ºæ ‘ä¸­ï¼š
ï¼ˆ1ï¼‰æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæ ¹ç»“ç‚¹
ï¼ˆ2ï¼‰å½“n>1æ—¶ï¼Œå…¶ä½™ç»“ç‚¹å¯åˆ†ä¸ºmï¼ˆm>0ï¼‰ä¸ªäº’ä¸ç›¸äº¤çš„æœ‰é™é›†ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªé›†åˆæœ¬èº«åˆæ˜¯ä¸€æ£µæ ‘ï¼Œå¹¶ä¸”ç§°ä¸ºæ ¹çš„å­æ ‘ã€‚
```

**ç»“ç‚¹åˆ†ç±»ï¼š**

- ç»“ç‚¹æ‹¥æœ‰çš„å­æ ‘æ•°ç§°ä¸ºç»“ç‚¹çš„åº¦ï¼ˆDegreeï¼‰ã€‚
- åº¦ä¸º0çš„ç»“ç‚¹ç§°ä¸ºå¶ç»“ç‚¹ï¼ˆLeafï¼‰æˆ–ç»ˆç«¯ç»“ç‚¹ï¼›åº¦ä¸ä¸º0çš„ç»“ç‚¹ç§°ä¸ºéç»ˆç«¯ç»“ç‚¹æˆ–åˆ†æ”¯ç»“ç‚¹ã€‚
- é™¤æ ¹èŠ‚ç‚¹ä¹‹å¤–ï¼Œåˆ†æ”¯ç»“ç‚¹ä¹Ÿç§°ä¸ºå†…éƒ¨ç»“ç‚¹ã€‚
- æ ‘çš„åº¦æ˜¯æ ‘å†…ç»“ç‚¹çš„åº¦çš„æœ€å¤§å€¼ã€‚
![æ ‘ç»“ç‚¹](https://upload-images.jianshu.io/upload_images/968977-b9eacd842bbbb3bb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
**ç»“ç‚¹é—´å…³ç³»ï¼š**
- ç»“ç‚¹çš„å­æ ‘çš„æ ¹ç§°ä¸ºè¯¥èŠ‚ç‚¹çš„å­©å­ï¼ˆChildï¼‰ï¼Œç›¸åº”åœ°ï¼Œè¯¥ç»“ç‚¹ç§°ä¸ºå­©å­çš„åŒäº²ï¼ˆParentï¼‰ã€‚
- åŒä¸€ä¸ªåŒäº²çš„å­©å­ä¹‹é—´äº’ç§°å…„å¼Ÿï¼ˆSiblingï¼‰ã€‚
- ç»“ç‚¹çš„ç¥–å…ˆæ˜¯ä»æ ¹ç»“ç‚¹åˆ°è¯¥èŠ‚ç‚¹æ‰€ç»åˆ†æ”¯ä¸Šçš„æ‰€æœ‰ç»“ç‚¹ï¼ˆåŒ…æ‹¬æ ¹ç»“ç‚¹ï¼‰ã€‚
- ä»¥æŸç»“ç‚¹ä¸ºæ ¹çš„å­æ ‘ä¸­ä»»ä¸€ç»“ç‚¹éƒ½ç§°ä¸ºè¯¥ç»“ç‚¹çš„å­å­™ã€‚
![æ ‘ç»“ç‚¹å…³ç³»](https://upload-images.jianshu.io/upload_images/968977-68e14b28ebbd12f0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
**æ ‘çš„å…¶ä»–ç›¸å…³æ¦‚å¿µï¼š**
- ç»“ç‚¹çš„å±‚æ¬¡ï¼ˆLevelï¼‰ä»æ ¹å¼€å§‹å®šä¹‰èµ·ï¼Œæ ¹ä¸ºç¬¬ä¸€å±‚ï¼Œæ ¹çš„å­©å­ä¸ºç¬¬äºŒå±‚ã€‚
- åŒäº²åœ¨åŒä¸€å±‚çš„ç»“ç‚¹äº’ç§°ä¸ºå ‚å…„å¼Ÿã€‚
- æ ‘ä¸­ç»“ç‚¹çš„æœ€å¤§å±‚æ¬¡ç§°ä¸ºä¹¦çš„æ·±åº¦ï¼ˆDepthï¼‰æˆ–é«˜åº¦ã€‚
- å¦‚æœå·¦å³å­æ ‘æ˜¯æœ‰æ¬¡åºçš„ï¼Œä¸èƒ½äº’æ¢çš„ï¼Œåˆ™ç§°è¯¥æ ‘ä¸ºæœ‰åºæ ‘ï¼Œå¦åˆ™ç§°ä¸ºæ— åºæ ‘ã€‚
- æ£®æ—ï¼ˆForestï¼‰æ˜¯mï¼ˆm >= 0ï¼‰è¯¾äº’ä¸ç›¸äº¤çš„æ ‘çš„é›†åˆã€‚
![æ ‘çš„å…¶ä»–ç›¸å…³æ¦‚å¿µ](https://upload-images.jianshu.io/upload_images/968977-cc54b035f6ad0d99.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
**çº¿æ€§ç»“æ„ VS æ ‘ç»“æ„ï¼š**
```
çº¿æ€§ç»“æ„ï¼š
- ç¬¬ä¸€ä¸ªæ•°æ®å…ƒç´ ï¼šæ— å‰é©±
- æœ€åä¸€ä¸ªæ•°æ®å…ƒç´ ï¼šæ— åç»­
- ä¸­é—´å…ƒç´ ï¼šä¸€ä¸ªå‰é©±ï¼Œä¸€ä¸ªåç»­

æ ‘ç»“æ„ï¼š
- æ ¹ç»“ç‚¹ï¼šæ— åŒäº²ï¼Œå”¯ä¸€
- å¶ç»“ç‚¹ï¼šæ— å­©å­ï¼Œå¯ä»¥å¤šä¸ª
- ä¸­é—´ç»“ç‚¹ï¼šä¸€ä¸ªåŒäº²ï¼Œå¤šä¸ªå­©å­
```
**æ ‘çš„æŠ½è±¡æ•°æ®ç±»å‹ï¼š**

```
 ADT  æ ‘ï¼ˆtreeï¼‰
    æ ‘æ˜¯ç”±ä¸€ä¸ªæ ¹ç»“ç‚¹å’Œè‹¥å¹²è¯¾å­æ ‘æ„æˆã€‚æ ‘ä¸­ç»“ç‚¹å…·æœ‰ç›¸åŒæ•°æ®ç±»å‹åŠå±‚æ¬¡å…³ç³»ã€‚
Operation
    rootï¼šè¿”å›æ ¹ç»“ç‚¹ã€‚
    nodesï¼šæ ‘çš„ç»“ç‚¹æ•°
    depthï¼šæ ‘çš„æ·±åº¦
    ...
EndADT
```
### 5.1æ ‘çš„å­˜å‚¨ç»“æ„ï¼š
- åŒäº²è¡¨ç¤ºæ³•
- å­©å­è¡¨ç¤ºæ³•
- å­©å­å…„å¼Ÿè¡¨ç¤ºæ³•

ä»¥ä¸‹å›¾ä¸ºä¾‹è®²è§£æ ‘ä¸‰ç§è¡¨ç¤ºæ³•ï¼š
![æ ‘çš„ä¸‰ç§è¡¨ç¤ºæ³•](https://upload-images.jianshu.io/upload_images/968977-515fe5ada11bb874.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

#### 5.1.1åŒäº²è¡¨ç¤ºæ³•

>åŒäº²è¡¨ç¤ºæ³•ï¼šåœ¨æ¯ä¸ªç»“ç‚¹ä¸­ï¼Œæ‹¥æœ‰æŒ‡å‘åŒäº²ç»“ç‚¹çš„æŒ‡é’ˆï¼ˆå¯ä»¥æ‰©å±•å­ç»“ç‚¹æˆ–è€…å…„å¼Ÿç»“ç‚¹ï¼‰ã€‚

|ä¸‹æ ‡|data|parent|
|:-----|:-----|:--------|
|   0   |   A   |    -1     |
|   1   |   B   |     0     |
|   2   |   C   |     0     |
|   3   |   D   |     1     |
|   4   |   E   |     2     |
|   5   |   F   |     2     |
|   6   |   G   |     3     |
|   7   |   H   |     3     |
|   8   |    I    |    3     |
|   9   |   J    |     4     |

#### 5.1.2å­©å­è¡¨ç¤ºæ³•

>å­©å­è¡¨ç¤ºæ³•ï¼šæ¯ä¸ªç»“ç‚¹æœ‰å¤šä¸ªæŒ‡é’ˆåŸŸï¼Œå…¶ä¸­æ¯ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸€æ£µå­æ ‘çš„æ ¹ç»“ç‚¹ï¼Œå«å¤šé‡é“¾è¡¨è¡¨ç¤ºæ³•ï¼›æŠŠæ¯ä¸ªç»“ç‚¹æ’åˆ—èµ·æ¥ï¼Œä»¥å•é“¾è¡¨åšå­˜å‚¨ç»“æ„ï¼Œå«å­©å­è¡¨ç¤ºæ³•ã€‚

![å­©å­è¡¨ç¤ºæ³•](https://upload-images.jianshu.io/upload_images/968977-46087b0e034aaf97.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

#### 5.1.3å­©å­å…„å¼Ÿè¡¨ç¤ºæ³•

>å­©å­å…„å¼Ÿè¡¨ç¤ºæ³•ï¼šä¸€ä¸ªç»“ç‚¹è®¾ç½®ä¸¤ä¸ªæŒ‡é’ˆï¼Œåˆ†åˆ«æŒ‡å‘è¯¥ç»“ç‚¹çš„ç¬¬ä¸€ä¸ªå­ç»“ç‚¹å’Œè¯¥ç»“ç‚¹çš„å³å…„å¼Ÿã€‚

![å­©å­å…„å¼Ÿè¡¨ç¤ºæ³•](https://upload-images.jianshu.io/upload_images/968977-49ef5e6e316cc74f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

### 5.2äºŒå‰æ ‘
>äºŒå‰æ ‘ï¼šnï¼ˆn>=0ï¼‰ä¸ªç»“ç‚¹çš„æœ‰é™é›†åˆï¼Œè¯¥é›†åˆæˆ–è€…ä¸ºç©ºé›†ï¼ˆç©ºäºŒå‰æ ‘ï¼‰ï¼Œæˆ–è€…ä¸ºç”±ä¸€ä¸ªæ ¹ç»“ç‚¹å’Œä¸¤é¢—äº’ä¸ç›¸äº¤çš„ã€åˆ†åˆ«ç§°ä¸ºæ ¹ç»“ç‚¹çš„å·¦å­æ ‘å’Œå³å­æ ‘çš„äºŒå‰æ ‘ç»„æˆã€‚

**ç”±å®šä¹‰è€Œå¾—å‡ºäºŒå‰æ ‘çš„ç‰¹ç‚¹ï¼š**
- æ¯ä¸ªç»“ç‚¹æœ€å¤šæœ‰ä¸¤é¢—å­æ ‘
- å·¦å­æ ‘å’Œå³å­æ ‘æ˜¯æœ‰é¡ºåºçš„
- ä¸€ä¸ªç»“ç‚¹å¦‚æœåªæœ‰ä¸€é¢—å­æ ‘ï¼Œä¹Ÿè¦åŒºåˆ†å·¦å³

**äºŒå‰æ ‘çš„åŸºæœ¬å½¢æ€ï¼š**
- ç©ºäºŒå‰æ ‘ï¼ˆæ²¡æœ‰ç»“ç‚¹ï¼ŒåŒ…æ‹¬æ ¹ç»“ç‚¹ï¼‰
- åªæœ‰ä¸€ä¸ªæ ¹ç»“ç‚¹
- æ ¹ç»“ç‚¹åªæœ‰å·¦å­æ ‘
- æ ¹ç»“ç‚¹åªæœ‰å³å­æ ‘
- æ ¹ç»“ç‚¹æœ‰å·¦å³å­æ ‘

**ç‰¹æ®ŠäºŒå‰æ ‘ï¼š**
- æ–œæ ‘ï¼šæ‰€æœ‰ç»“ç‚¹éƒ½åªæœ‰å·¦å­æ ‘çš„äºŒå‰æ ‘å«å·¦æ–œæ ‘ï¼Œåä¹‹ï¼Œå«å³æ–œæ ‘ã€‚
- æ»¡äºŒå‰æ ‘ï¼šæ‰€æœ‰ç»“ç‚¹éƒ½å­˜åœ¨å·¦å³å­æ ‘ï¼Œå¹¶ä¸”æ‰€æœ‰å¶ç»“ç‚¹éƒ½åœ¨åŒä¸€å±‚ä¸Šã€‚
- å®Œå…¨äºŒå‰æ ‘ï¼šå¯¹ä¸€é¢—å…·æœ‰nä¸ªç»“ç‚¹çš„äºŒå‰æ ‘æŒ‰å±‚ç¼–å·ï¼Œç¼–å·ä¸ºiï¼ˆ1<=i<=nï¼‰çš„ç»“ç‚¹ä¸åŒæ ·æ·±åº¦çš„æ»¡äºŒå‰æ ‘ä¸­ç¼–å·ä¸ºiçš„ç»“ç‚¹åœ¨äºŒå‰æ ‘ä¸­ä½ç½®ç›¸åŒã€‚

**äºŒå‰æ ‘çš„æ€§è´¨ï¼š**
- æ€§è´¨1ï¼šåœ¨äºŒå‰æ ‘çš„ç¬¬iå±‚æœ€å¤šæœ‰2^(i-1)çš„ç»“ç‚¹ï¼ˆi>=1ï¼‰ã€‚
- æ€§è´¨2ï¼šæ·±åº¦ä¸ºkçš„äºŒå‰æ ‘è‡³å¤šæœ‰2^k-1ä¸ªç»“ç‚¹ï¼ˆk>=1ï¼‰ã€‚
- æ€§è´¨3ï¼šå¯¹ä»»ä½•ä¸€é¢—äºŒå‰æ ‘Tï¼Œå¦‚æœå…¶ç»ˆç«¯ç»“ç‚¹æ•°ä¸ºn0ï¼Œåº¦ä¸º2çš„ç»“ç‚¹æ•°ä¸ºn2ï¼Œåˆ™n0=n2+1ã€‚
- æ€§è´¨4ï¼šå…·æœ‰nä¸ªç»“ç‚¹çš„å®Œå…¨äºŒå‰æ ‘çš„æ·±åº¦ä¸º|log2(n)| + 1ï¼ˆ|x|è¡¨ç¤ºä¸å¤§äºxçš„æœ€å¤§æ•´æ•°ï¼‰ã€‚
- æ€§è´¨5ï¼šå¦‚æœå¯¹ä¸€é¢—æœ‰nä¸ªç»“ç‚¹çš„å®Œå…¨äºŒå‰æ ‘ï¼ˆå…¶æ·±åº¦ä¸º|log2(n)| + 1ï¼‰çš„ç»“ç‚¹æŒ‰å±‚ç¼–å·ï¼ˆä»ç¬¬1å±‚åˆ°ç¬¬|log2(n) + 1|å±‚ï¼Œæ¯å±‚ä»å·¦åˆ°å³ï¼‰ï¼Œå¯¹ä»»ä¸€ç»“ç‚¹iï¼ˆ1<= i <= nï¼‰æœ‰ï¼š
  1.å¦‚æœi=1ï¼Œåˆ™ç»“ç‚¹iæ˜¯äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹ï¼Œæ— åŒäº²ï¼›å¦‚æœi>1ï¼Œåˆ™å…¶åŒäº²æ˜¯ç»“ç‚¹|i/2|ã€‚
  2.å¦‚æœ2i>nï¼Œåˆ™ç»“ç‚¹iæ— å·¦å­©å­ï¼ˆç»“ç‚¹iä¸ºå¶å­ç»“ç‚¹ï¼‰ï¼›å¦åˆ™å…¶å·¦å­©å­æ˜¯ç»“ç‚¹2iã€‚
  3.å¦‚æœ2i+1>nï¼Œåˆ™ç»“ç‚¹iæ— å³å­©å­ï¼›å¦åˆ™å…¶å³å­©å­æ˜¯ç»“ç‚¹2i+1ã€‚

```
æ€§è´¨è¯æ˜ï¼š
-> æ€§è´¨1
æœ€å¤šç»“ç‚¹çš„äºŒå‰æ ‘æ˜¯æ»¡äºŒå‰æ ‘ï¼Œé™¤äº†å¶ç»“ç‚¹ï¼Œæ‰€æœ‰ç»“ç‚¹çš„åº¦éƒ½ä¸º2ï¼Œæ‰€ä»¥ï¼Œç¬¬iå±‚æœ€å¤šæœ‰2^(i-1)ä¸ªç»“ç‚¹ã€‚

-> æ€§è´¨2
ç”±æ€§è´¨1å¯ä»¥æ¯å±‚çš„ç»“ç‚¹æ•°ï¼Œåˆ™kï¼ˆk>=1ï¼‰å±‚äºŒå‰æ ‘æ€»å…±èŠ‚ç‚¹æ•°ä¸ºï¼šn = 2^0 + 2^1 + ... 2^(k-1)=1*(1-2^k)/(1-2) = 2^k - 1ã€‚

-> æ€§è´¨3
äºŒå‰æ ‘çš„æ€»ç»“ç‚¹æ•°ä¸ºï¼šn = n0 + n1 + n2ï¼ˆn0ä¸ºå¶ç»“ç‚¹ï¼Œn1ä¸ºåº¦ä¸º1çš„ç»“ç‚¹æ•°ï¼Œn2ä¸ºåº¦ä¸º2çš„ç»“ç‚¹æ•°ï¼‰ï¼›é‚£ä¹ˆç»“ç‚¹æ•°ä¸ºnçš„äºŒå‰æ ‘æœ‰å¤šå°‘æ¡è¿æ¥çº¿å‘¢ï¼Ÿå¾ˆæ˜æ˜¾æ¯ä¸ªç»“ç‚¹ï¼Œé™¤äº†æ ¹ç»“ç‚¹éƒ½æœ‰æŒ‡å‘è¿æ¥çº¿ï¼Œæ‰€ä»¥ï¼Œç»“ç‚¹æ•°ä¸ºnçš„äºŒå‰æ ‘çš„æ€»è¿æ¥çº¿ä¸ºn-1ï¼›ä»ä¸€ä¸ªç»“ç‚¹çš„åº¦æ¥ç®—ï¼Œåº¦ä¸º1çš„ç»“ç‚¹ä¼šæœ‰1æ¡è¿æ¥çº¿ï¼Œè¿æ¥å­ç»“ç‚¹ï¼›åº¦ä¸º2çš„ç»“ç‚¹ä¼šæœ‰2è¿æ¥çº¿ï¼Œè¿æ¥å­ç»“ç‚¹ï¼›æ ¹ç»“ç‚¹æ²¡æœ‰åŒäº²ç»“ç‚¹ï¼Œæ‰€ä»¥æ²¡æœ‰è¿å‘æ ¹ç»“ç‚¹çš„è¿æ¥çº¿ï¼Œé‚£ä¹ˆæœ‰ï¼šn-1 = 1*n0 + 2*n2ï¼›å’Œç¬¬ä¸€æ¡æ–¹ç¨‹å¼è”åˆå¯å¾—ï¼šn0=n2+1ã€‚

-> æ€§è´¨4
è®¾ç½®æœ‰nä¸ªç»“ç‚¹çš„å®Œå…¨äºŒå‰æ ‘çš„æ·±åº¦ä¸ºkï¼Œåˆ™ï¼š
2^(k-1)-1< n <= 2^k-1
å› ä¸ºkæ˜¯æ•´æ•°ï¼Œæ‰€ä»¥ï¼š
2^(k-1)<= n < 2^k
å–å¯¹æ•°å¾—ï¼š
k-1<=log2(n)<kï¼Œå³ï¼šk<=log2(n)+1å¹¶ä¸”k>log2(n)
æ‰€ä»¥ï¼šk=|log2(n)| + 1

-> æ€§è´¨5.1
ç”±æ€§è´¨1ï¼Œ2å¯å¾—ï¼š
æ·±åº¦ä¸ºkçš„äºŒå‰æ ‘æœ‰ï¼šç»“ç‚¹2^(k-1) - 1çš„å³å­©å­ä¸ºï¼š2^k-1ï¼Œå…¶å·¦å­©å­ä¸ºï¼š2^k-2
å·¦å­©å­é™¤ä»¥2å¾—ï¼š2^k-2 = 2^(k-1) - 1ç­‰äºå…¶åŒäº²ç»“ç‚¹
å³å­©å­é™¤ä»¥2å¾—ï¼š2^k-1 = 2^(k-1) - 1 + 1/2æ¯”å…¶åŒäº²ç»“ç‚¹å¤§1/2ï¼Œå‘ä¸‹å–æ•´ä¸ºï¼š2^(k-1) - 1
æ‰€ä»¥ï¼Œæ€§è´¨5.1æˆç«‹ã€‚
-> æ€§è´¨5.2
ç”±æ€§è´¨5.1å¯çŸ¥ï¼Œnï¼ˆn>1ï¼‰ç»“ç‚¹çš„åŒäº²ä¸º|n/2|ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ·±åº¦æœ€å¤§ï¼Œæœ€å³è¾¹çš„åŒäº²ç»“ç‚¹<=n/2ï¼Œåˆ™å¦‚æœ2i>nï¼Œè¯´æ˜iåªèƒ½æ˜¯å¶ç»“ç‚¹ä¸æ˜¯åŒäº²ç»“ç‚¹ï¼Œæ‰€ä»¥ï¼Œæ²¡æœ‰å·¦å­©å­ã€‚ç”±5.1å¯å¾—ï¼Œ2i<=nï¼Œåˆ™içš„å·¦å­©å­ä¸º2iã€‚
-> æ€§è´¨5.3
ç”±5.2å¯çš„2iå…¶å®å°±æ˜¯içš„å·¦å­©å­ï¼Œåˆ™2i+1å°±æ˜¯içš„å³å­©å­ï¼Œé‚£ä¹ˆ2i+1>nï¼Œå³è¶…è¿‡äº†æœ€å¤§çš„ç»“ç‚¹æ•°ï¼Œæ‰€æœ‰æ²¡æœ‰å³å­©å­ã€‚
```
### 5.3äºŒå‰æ ‘çš„å­˜å‚¨ç»“æ„
![å®Œå…¨äºŒå‰æ ‘](https://upload-images.jianshu.io/upload_images/968977-39ffd35640304ae1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
- äºŒå‰æ ‘é¡ºåºå­˜å‚¨ç»“æ„
ç”±äºäºŒå‰æ ‘æ¯ä¸ªç»“ç‚¹æœ€å¤šåªæœ‰2ä¸ªå­æ ‘ï¼Œå¹¶ä¸”å·¦å³å­æ ‘æ˜¯æœ‰é¡ºåºçš„ï¼Œæ‰€ä»¥ï¼Œå¯ä»¥ä½¿ç”¨æ•°ç»„ç›´æ¥å­˜å‚¨ã€‚
![æ•°ç»„1](https://upload-images.jianshu.io/upload_images/968977-079e305a9879b56c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

- äºŒå‰æ ‘é“¾å¼å­˜å‚¨ç»“æ„
![é“¾è¡¨1](https://upload-images.jianshu.io/upload_images/968977-8f8ad640f8825389.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
### 5.4äºŒå‰æ ‘éå†
>äºŒå‰æ ‘çš„éå†æ˜¯æŒ‡ä»æ ¹ç»“ç‚¹å‡ºå‘ï¼ŒæŒ‰ç…§æŸç§æ¬¡åºä¾æ¬¡è®¿é—®äºŒå‰æ ‘ä¸­æ‰€æœ‰ç»“ç‚¹ï¼Œä½¿å¾—æ¯ä¸ªç»“ç‚¹è¢«è®¿é—®æœ‰ä¸”ä»…æœ‰ä¸€æ¬¡ã€‚

ä¸‰ç§éå†æ¬¡åºï¼š
- å‰åºéå†
è‹¥äºŒå‰æ ‘ä¸ºç©ºï¼Œåˆ™è¿”å›ï¼›å¦åˆ™ï¼Œå…ˆéå†æ ¹ç»“ç‚¹ï¼Œç„¶åéå†å·¦å­æ ‘ï¼Œå†éå†å³å­æ ‘ã€‚
- ä¸­åºéå†
å¦‚æœäºŒå‰æ ‘ä¸ºç©ºï¼Œåˆ™è¿”å›ï¼›å¦åˆ™ï¼Œä»æ ¹ç»“ç‚¹å¼€å§‹ï¼Œå…ˆéå†å·¦å­æ ‘ï¼Œç„¶åæ˜¯æ ¹ç»“ç‚¹ï¼Œå·¦åæ˜¯å³å­æ ‘ã€‚
- åç»­éå†
å¦‚æœäºŒå‰æ ‘ä¸ºç©ºï¼Œåˆ™è¿”å›ï¼›å¦åˆ™ï¼Œä»æ ¹ç»“ç‚¹å¼€å§‹ï¼Œå…ˆéå†å·¦å­æ ‘ï¼Œç„¶åéå†å³å­æ ‘ã€‚
- å±‚åºéå†
å¦‚æœäºŒå‰æ ‘ä¸ºç©ºï¼Œåˆ™è¿”å›ï¼›å¦åˆ™ï¼Œä»æ ‘çš„ç¬¬ä¸€å±‚ï¼Œæ ¹ç»“ç‚¹å¼€å§‹è®¿é—®ï¼Œä»ä¸Šè€Œä¸‹é€å±‚éå†ï¼Œåœ¨åŒä¸€å±‚ä¸­ï¼ŒæŒ‰ä»å·¦åˆ°å³çš„é¡ºåºé€ä¸ªç»“ç‚¹è®¿é—®ã€‚

![å®Œå…¨äºŒå‰æ ‘1](https://upload-images.jianshu.io/upload_images/968977-39ffd35640304ae1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

```
class BinTNode<T>: NSObject{
    var data: T
    var lChild: BinTNode<T>?
    var rChild: BinTNode<T>?
    init(_ data: T) {
        self.data = data
    }
}

//å‰åºéå†
//é€’å½’
func preOrderTraverse(t: BinTNode<String>?) {
    guard let tNode = t else {
        return
    }
    
    print(tNode.data)
    preOrderTraverse(t: tNode.lChild)
    preOrderTraverse(t: tNode.rChild)
}

//è¿­ä»£
func preOrderTraversal_2(root: BinTNode<String>?) -> [String] {
    guard root != nil else {
        return []
    }
    var res = [String]()
    var stack = [BinTNode<String>]()
    stack.append(root!)
    
    //stackæ˜¯å…ˆè¿›åå‡ºï¼Œæ‰€ä»¥ï¼Œå…ˆæŠŠå³èŠ‚ç‚¹å‹å…¥æ ˆï¼Œå†æŠŠå·¦èŠ‚ç‚¹å‹å…¥æ ˆ
    //å‰åºéå†ï¼šæ ¹->å·¦å­æ ‘->å³å­æ ‘
    while !stack.isEmpty {
        let top = stack.removeLast() //æ ˆé¡¶å‡ºç«™
        res.append(top.val)
        
        if let right = top.rightNode {
            stack.append(right)
        }
        
        if let left = top.leftNode {
            stack.append(left)
        }
    }
    
    return res
}

//ä¸ºä»€ä¹ˆå‰åºï¼Œä¸­åºå’Œååºéå†é€‚åˆç”¨stackï¼Œè€Œå±‚éå†åˆ™é€‚åˆç”¨queueï¼Ÿ
//å› ä¸ºå‰é¢çš„éå†éœ€è¦å›æº¯åŠŸèƒ½ï¼Œè€Œå±‚éå†åˆ™ä¸éœ€è¦
//         a
//       /   \
//      b     c
//     / \   / \
//    e   f g   h
// ä»¥ä¸Šé¢çš„äºŒå‰æ ‘ä¸ºä¾‹ï¼š
//ä¸­åºéå†é¡ºåºï¼šæ ¹èŠ‚ç‚¹->å·¦å­æ ‘æ ¹èŠ‚ç‚¹->å³å­æ ‘æ ¹èŠ‚ç‚¹
//1.è®¿é—®aå¹¶æ·»åŠ åˆ°æ ˆé‡Œï¼Œç„¶åè®¿é—®açš„å·¦å­æ ‘
//2.è®¿é—®bå¹¶æ·»åŠ åˆ°æ ˆé‡Œï¼Œç„¶åè®¿é—®bçš„å·¦å­æ ‘
//3.è®¿é—®eå¹¶æ·»åŠ åˆ°æ ˆé‡Œï¼Œç„¶åè®¿é—®eçš„å·¦å­æ ‘
//4.å› ä¸ºeçš„å·¦å­æ ‘ä¸ºç©ºï¼Œå¹¶ä¸”eå·²ç»è¢«è®¿é—®è¿‡äº†ï¼Œä»¥eä¸ºæ ¹èŠ‚ç‚¹çš„äºŒå‰æ ‘åªæœ‰eçš„å³å­æ ‘è¿˜æ²¡è¢«è®¿é—®è¿‡ï¼Œæ‰€ä»¥å¯ä»¥æŠŠeçš„å³å­æ ‘æ›¿ä»£ä»¥eä¸ºæ ¹çš„
//  äºŒå‰æ ‘ä½œä¸ºbçš„å·¦å­æ ‘æ¥è®¿é—®ï¼Œæ‰€ä»¥ï¼Œeå‡ºæ ˆï¼Œeçš„å³å­æ ‘ï¼ˆå³å­æ ‘ä¸ä¸ºç©ºï¼‰è¿›æ ˆ
//5.å› ä¸ºeçš„å³å­æ ‘ä¸ºç©ºï¼Œä¹Ÿå°±æ˜¯è¯´ä»¥eä¸ºæ ¹çš„äºŒå‰æ ‘éƒ½å·²ç»è¢«è®¿é—®äº†ï¼Œå¹¶ä¸”eæ˜¯bçš„å·¦å­æ ‘ï¼Œä¹Ÿå°±è¯´bçš„å·¦å­æ ‘å·²ç»å®Œå…¨è¢«è®¿é—®äº†ï¼Œä»¥bä¸ºæ ¹èŠ‚ç‚¹
//  çš„äºŒå‰æ ‘åªæœ‰å³å­æ ‘è¿˜æ²¡è¢«è®¿é—®ï¼Œæ‰€ä»¥ï¼Œå°†å³å­æ ‘æ›¿ä»£æ•´ä¸ªäºŒå‰æ ‘ï¼Œæ‰€ä»¥bå‡ºæ ˆï¼Œfè¿›æ ˆ
//6.ä¸æ–­é‡å¤ä¸Šé¢çš„è¿‡ç¨‹ï¼Œç›´åˆ°æ ˆä¸ºç©ºï¼Œåˆ™è¡¨æ˜æ‰€æœ‰å…ƒç´ éƒ½å·²ç»éå†å®Œ
func preOrderTraversal_3(root: BinTNode<String>?) -> [String] {
    var res = [String]()
    var stack = [BinTNode<String>]()
    var curr = root
    
//    while !stack.isEmpty || curr != nil{
//        while curr != nil {
//            res.append(curr!.val)
//            stack.append(curr!)
//            curr = curr?.leftNode
//        }
//
//        curr = stack.removeLast().rightNode
//    }
    while !stack.isEmpty || curr != nil{
        if curr != nil {
            res.append(curr!.val)
            stack.append(curr!)
            curr = curr?.leftNode
        } else {
            curr = stack.removeLast().rightNode
        }
    }
    
    return res
}

å‰åºéå†ç»“æœï¼šABDHIEJCFG => A->(B->(D->H->I)->(E->J))->(C->F->G)

//ä¸­åºéå†
//é€’å½’
func inOrderTraverse(t: BinTNode<String>?) {
    guard let tNode = t else {
        return
    }
    inOrderTraverse(t: tNode.lChild)
    print(tNode.data)
    inOrderTraverse(t: tNode.rChild)
}

//è¿­ä»£
func inOrderTraversal_2(root: BinTNode<String>?) -> [String] {
    var res = [String]()
    var stack = [BinTNode<String>]()
    var node = root

    while !stack.isEmpty || node != nil{
        while node != nil {
            stack.append(node!)
            node = node?.leftNode
        }
        
        node = stack.popLast()
        res.append(node!.val)
        node = node?.rightNode
    }
    
    return res
}

ä¸­åºéå†ç»“æœï¼šHDIBJEAFCG => ((H<-D->I)<-B->(J<-E))<-A->(F<-C->G)

//ååºéå†
//é€’å½’
func postOrderTraverse(t: BinTNode<String>?) {
    guard let tNode = t else {
        return
    }
    postOrderTraverse(t: tNode.lChild)
    postOrderTraverse(t: tNode.rChild)
    print(tNode.data)
}

//è¿­ä»£
//å·¦->å³->æ ¹
//åä¹‹ï¼šæ ¹->å·¦->å³
//ååºéå†å¦‚æœç›´æ¥éå†çš„è¯éœ€è¦è®°å½•å½“å‰æ ˆçš„å…ƒç´ å·¦å³å­æ ‘æ˜¯å¦æœ‰è¢«è®¿é—®ï¼Œå¦‚æœå·¦å³å­æ ‘éƒ½è¢«è®¿é—®ï¼Œåˆ™å½“å‰èŠ‚ç‚¹å‡ºæ ˆï¼Œå¦åˆ™ï¼Œç»§ç»­è®¿é—®å³å­æ ‘ï¼Œä½†æ˜¯ååºéå†ï¼šå·¦->å³->æ ¹ï¼Œå¯ä»¥çœ‹æˆ:æ ¹->å³->å·¦éå†çš„é€†åºï¼Œé‚£ä¹ˆå‰åºéå†ç¨å¾®æ”¹ä¸€ä¸‹é¡ºåºå°±å¯ä»¥å˜æˆååºéå†äº†ï¼Œå¹¶ä¸”æ˜¯å…ˆè®¿é—®æ ¹èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯æ ˆé‡Œé¢çš„èŠ‚ç‚¹éƒ½æ˜¯å·²è¢«è®¿é—®è¿‡çš„ï¼Œæ‰€ä»¥ä¸éœ€è¦è®°å½•å½“å‰èŠ‚ç‚¹çš„å·¦å³å­æ ‘è®¿é—®æƒ…å†µã€‚
func postOrderTraversal_2(root: BinTNode<String>?) -> [String] {
    var res = [String]()
    var stack = [BinTNode<String>]()
    stack.append(root!)

    while !stack.isEmpty{
        let top = stack.removeLast()
        res.append(top.val)
        
        if let left = top.leftNode {
            stack.append(left)
        }
        
        if let right = top.rightNode {
            stack.append(right)
        }
    }
    
    return res.reversed()
}

ååºéå†ç»“æœï¼šHIDJEBFGCA => ((H->I->D)->(J->E)->B)->(F->G->C)->A

//å±‚åºéå†
//å±‚åºéå†é€‚åˆç”¨é˜Ÿåˆ—ï¼Œå› ä¸ºä¸éœ€è¦å›æº¯
func layerOrderTraversal(t: BinTNode<String>?) {
    guard let tNode = t else {
        return
    }
    
    var array: [BinTNode<String>] = [tNode]
    while !array.isEmpty {
        let count = array.count
        for i in 0...count-1 {
            let node = array[i]
            print(node.data)
            if let lNode = node.lChild {
                array.append(lNode)
            }
            if let rNode = node.rChild {
                array.append(rNode)
            }
        }
        array.removeSubrange(Range.init(NSRange(location: 0, length: count))!)
    }
}

func layerOrderTraversal_2(root: BinTNode<String>?) -> [String] {
    guard root != nil else {
        return []
    }
    
    var res = [String]()
    var queue = [BinTNode<String>]()
    queue.append(root!)
    
    while !queue.isEmpty {
        let node = queue.removeFirst()
        res.append(node.val)
        
        if let left = node.leftNode {
            queue.append(left)
        }
        
        if let right = node.rightNode {
            queue.append(right)
        }
    }
    
    return res
}

å±‚åºéå†ç»“æœï¼šABCDEFGHIJ => A->(B->C)->(D->E->F->G)->(H->I->J)
```
### 5.5çº¿ç´¢äºŒå‰æ ‘
>çº¿ç´¢äºŒå‰æ ‘ï¼šæŒ‡å‘å‰é©±å’Œåç»­çš„æŒ‡é’ˆç§°ä¸ºçº¿ç´¢ï¼ŒåŠ ä¸Šçº¿ç´¢çš„äºŒå‰æ ‘ç§°ä¸ºçº¿ç´¢äºŒå‰æ ‘ã€‚

çº¿ç´¢äºŒå‰æ ‘çš„æ•°æ®ç»“æ„ï¼š
```
class BinTNode<T>: NSObject {
    let data: T
    var lChild: BinTNode<T>?  
    var rChild: BinTNode<T>? 
    var lTag: Bool = false  //lTag = trueï¼ŒlChildæŒ‡å‘å‰é©±ï¼›å¦åˆ™ï¼ŒæŒ‡å‘å·¦å­æ ‘
    var rTag: Bool = false  //rTag = trueï¼ŒrChildæŒ‡å‘åç»­ï¼›å¦åˆ™ï¼ŒæŒ‡å‘å³å­æ ‘
    init(_ data: T) {
        self.data = data
    }
}
```
ä»¥ä¸Šé¢çš„å®Œå…¨äºŒå‰æ ‘1ä¸ºä¾‹ï¼š
![çº¿ç´¢äºŒå‰æ ‘](https://upload-images.jianshu.io/upload_images/968977-839e8366956da8ee.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
ä»¥ä¸­åºéå†çº¿ç´¢åŒ–ï¼š
```
//ä¸­åºéå†
func inOrderTraverse_Thread(t: BinTNode<String>?) {
    var p = t?.lChild
    while p != t {
        while p?.lTag == false {  //äºŒå‰æ ‘æœ€å·¦è¾¹
            p = p?.lChild
        }
        print(p?.data ?? "")  //æ‰“å°æ•°æ®
        while p?.rChild != t, p?.rTag == true {
            p = p?.rChild
            print(p?.data ?? "")
        }
        p = p?.rChild
    }
}
æ ¸å¿ƒå®ç°æ€è·¯ï¼š
1.éå†äºŒå‰æ ‘çš„æœ€å·¦ç»“ç‚¹ï¼Œç„¶åè¾“å‡º
2.é€šè¿‡åç»­æŒ‡é’ˆè·å–åŒäº²ç»“ç‚¹ï¼Œç„¶åè¾“å‡º
3.éå†åˆ°å³å­æ ‘ï¼Œé‡å¤1ï¼Œ2ä¸¤æ­¥éª¤
```
å¦‚æœæ‰€ç”¨çš„äºŒå‰æ ‘éœ€ç»å¸¸éå†æˆ–æŸ¥æ‰¾ç»“ç‚¹æ—¶éœ€è¦æŸç§éå†åºåˆ—ä¸­çš„å‰é©±å’Œåç»­ï¼Œé‚£ä¹ˆé‡‡å–çº¿ç´¢äºŒå‰é“¾è¡¨çš„å­˜å‚¨ç»“æ„å°±æ˜¯éå¸¸ä¸é”™çš„é€‰æ‹©ã€‚
### 5.6æ ‘ã€æ£®æ—ä¸äºŒå‰æ ‘çš„è½¬æ¢
- æ ‘è½¬æ¢ä¸ºäºŒå‰æ ‘
```
1.åŠ çº¿ã€‚åœ¨æ‰€æœ‰å…„å¼Ÿç»“ç‚¹ä¹‹é—´åŠ ä¸€æ¡çº¿ã€‚
2.å»çº¿ã€‚å¯¹æ ‘ä¸­æ¯ä¸ªç»“ç‚¹ï¼Œåªä¿ç•™å®ƒä¸ç¬¬ä¸€ä¸ªå­©å­ç»“ç‚¹çš„è¿çº¿ï¼Œåˆ é™¤å®ƒä¸å…¶ä»–å­©å­ä¹‹é—´çš„è¿çº¿ã€‚
3.å±‚æ¬¡è°ƒæ•´ã€‚ä»¥æ ‘çš„æ ¹ç»“ç‚¹ä¸ºè½´å¿ƒï¼Œå°†æ•´ä¸ªæ ‘é¡ºæ—¶é’ˆæ—‹è½¬ä¸€å®šçš„è§’åº¦ï¼Œä½¿ä¹‹ç»“æ„å±‚æ¬¡åˆ†æ˜ã€‚
```
![æ ‘ -> äºŒå‰æ ‘](https://upload-images.jianshu.io/upload_images/968977-f69564e17440fe6a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
- æ£®æ—è½¬æ¢ä¸ºäºŒå‰æ ‘
```
1.æŠŠæ¯æ£µæ ‘è½¬æ¢ä¸ºäºŒå‰æ ‘ã€‚
2.ç¬¬ä¸€æ£µäºŒå‰æ ‘ä¸åŠ¨ï¼Œä»ç¬¬äºŒæ£µäºŒå‰æ ‘å¼€å§‹ï¼Œä¾æ¬¡æŠŠåä¸€æ£µäºŒå‰æ ‘çš„æ ¹ç»“ç‚¹ä½œä¸ºå‰ä¸€æ£µäºŒå‰æ ‘çš„æ ¹ç»“ç‚¹çš„å³å­©å­ï¼Œç”¨çº¿è¿æ¥èµ·æ¥ã€‚å½“æ‰€æœ‰çš„äºŒå‰æ ‘è¿æ¥èµ·æ¥åå°±å¾—åˆ°äº†ç”±æ£®æ—è½¬æ¢æ¥çš„äºŒå‰æ ‘ã€‚
```
![æ£®æ— -> äºŒå‰æ ‘](https://upload-images.jianshu.io/upload_images/968977-e09fdab9fa9f2447.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
- äºŒå‰æ ‘è½¬æ¢ä¸ºæ ‘
```
1.åŠ çº¿ã€‚è‹¥æŸä¸ªç»“ç‚¹çš„å·¦å­©å­ç»“ç‚¹å­˜åœ¨ï¼Œåˆ™å°†è¿™ä¸ªå·¦å­©å­çš„nä¸ªå³å­©å­ç»“ç‚¹éƒ½ä½œä¸ºæ­¤ç»“ç‚¹çš„å­©å­ã€‚
2.å»çº¿ã€‚åˆ é™¤åŸäºŒå‰æ ‘ä¸­æ‰€æœ‰ç»“ç‚¹ä¸å…¶å³å­©å­ç»“ç‚¹çš„è¿çº¿ã€‚
3.å±‚æ¬¡è°ƒæ•´ã€‚ä½¿ä¹‹ç»“æ„å±‚æ¬¡åˆ†æ˜ã€‚
```
![äºŒå‰æ ‘ -> æ ‘](https://upload-images.jianshu.io/upload_images/968977-1d32a0f6e4c9c8ec.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
- äºŒå‰æ ‘è½¬æ¢ä¸ºæ£®æ—
```
1.å»çº¿ã€‚ä»æ ¹ç»“ç‚¹å¼€å§‹ï¼Œè‹¥å³å­©å­å­˜åœ¨ï¼Œåˆ™æŠŠä¸å³å­©å­ç›¸è¿çš„çº¿å»è°ƒï¼Œå†çœ‹åˆ†ç¦»çš„äºŒå‰æ ‘ï¼Œç»§ç»­ä¸Šä¸ªæ­¥éª¤ã€‚
2.å°†æ¯æ£µåˆ†ç¦»çš„äºŒå‰æ ‘å†è½¬æ¢æˆæ ‘ã€‚
```
![äºŒå‰æ ‘ -> æ£®æ—](https://upload-images.jianshu.io/upload_images/968977-2ce7d97efbbdfcf7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

- æ ‘ä¸æ£®æ—çš„éå†
```
æ ‘çš„éå†ï¼š
1.å…ˆæ ¹éå†ï¼š
å…ˆè®¿é—®æ ¹ç»“ç‚¹ï¼Œç„¶åä¾æ¬¡å…ˆæ ¹éå†æ¯ä¸ªå­æ ‘ã€‚
2.åæ ¹éå†ï¼š
å…ˆä¾æ¬¡åæ ¹éå†æ¯è¯¾å­æ ‘ï¼Œå†è®¿é—®æ ¹ç»“ç‚¹ã€‚
æ¯”å¦‚ï¼šå›¾äºŒå‰æ ‘ -> æ ‘ï¼Œå…ˆæ ¹éå†ï¼šABEFCDG  åæ ¹éå†ï¼šEFBCGDA

æ£®æ—çš„éå†ï¼š
1.å‰åºéå†ï¼š
ä½¿ç”¨å…ˆæ ¹ä¾æ¬¡éå†æ¯è¯¾æ ‘ã€‚
2.ååºéå†ï¼š
ä½¿ç”¨åæ ¹ä¾æ¬¡éå†æ¯æ£µæ ‘ã€‚
æ¯”å¦‚ï¼šå›¾äºŒå‰æ ‘ -> æ£®æ—ï¼Œå‰åºéå†ï¼šABCDEFGHJI ååºéå†ï¼šBCDAFEJHIG
```
### 5.7èµ«å¤«æ›¼æ ‘
>èµ«å¤«æ›¼æ ‘ï¼šä»æ ‘ä¸­ä¸€ä¸ªç»“ç‚¹åˆ°å¦ä¸€ä¸ªç»“ç‚¹ä¹‹é—´çš„åˆ†æ”¯æ„æˆä¸¤ä¸ªç»“ç‚¹ä¹‹é—´çš„è·¯å¾„ï¼Œè·¯å¾„ä¸Šçš„åˆ†æ”¯æ•°ç›®ç§°ä½œè·¯å¾„é•¿åº¦ã€‚æ ‘çš„è·¯å¾„é•¿åº¦å°±æ˜¯ä»æ ‘æ ¹åˆ°æ¯ä¸€ç»“ç‚¹çš„è·¯å¾„é•¿åº¦ä¹‹å’Œã€‚å…¶ä¸­ï¼Œå¸¦æƒè·¯å¾„é•¿åº¦WPLæœ€å°çš„äºŒå‰æ ‘ç§°ä½œèµ«å¤«æ›¼æ ‘ã€‚
![èµ«å¤«æ›¼æ ‘](https://upload-images.jianshu.io/upload_images/968977-ec4a3deb20badac4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
äºŒå‰æ ‘aä¸­ï¼Œæ ¹ç»“ç‚¹åˆ°Açš„è·¯å¾„ä¸º1ï¼Œå¸¦æƒè·¯å¾„ä¸ºï¼š15x1=15
æ‰€ä»¥ï¼ŒäºŒå‰æ ‘açš„è·¯å¾„ä¸ºï¼š1+2+3+4+4 = 14ï¼›äºŒå‰æ ‘bçš„è·¯å¾„ä¸ºï¼š3+3+2+2+2 = 12
äºŒå‰æ ‘açš„å¸¦æƒè·¯å¾„ä¸ºï¼š1x5 + 2x15 + 3x40 + 4x30 + 4x10 = 315
äºŒå‰æ ‘bçš„å¸¦æƒè·¯å¾„ä¸ºï¼š3x5 + 3x15 + 2x40 + 2x30 + 2x10 = 220
å¦‚æœæœ‰10000åå­¦ç”Ÿéœ€è¦è®¡ç®—æˆç»©ï¼Œåˆ™äºŒå‰æ ‘aéœ€è¦åˆ¤æ–­ï¼š(315Ã·100)x10000 = 31500æ¬¡ï¼›äºŒå‰æ ‘béœ€è¦åˆ¤æ–­ï¼š(220Ã·100)x10000 = 22000æ¬¡ï¼Œåè€…æ˜¯å‰è€…çš„2/3ã€‚æ‰€ä»¥ï¼Œèµ«å¤«æ›¼æ ‘å¯ä»¥å¾ˆæœ‰æ•ˆçš„æŠŠæ¯”è¾ƒçš„æ¬¡æ•°é™ä½ï¼ŒåŠ å¿«è®¡ç®—çš„é€Ÿåº¦ã€‚èµ«å¤«æ›¼ç¼–ç ï¼Œä¹Ÿæ˜¯ä¸€ç§å‹ç¼©ç¼–å‘æ–¹å¼ï¼Œå¯ä»¥å¾ˆæœ‰æ•ˆçš„å‡å°‘ç›®æ ‡çš„å¤§å°è€Œä¸ä¸¢å¤±ä¿¡æ¯ã€‚
- æ„é€ èµ«å¤«æ›¼æ ‘
```
æ­¥éª¤ï¼š
1.å…ˆæŠŠç»“ç‚¹æŒ‰ç…§æƒå€¼çš„å¤§å°æ’æˆä¸€åˆ—ï¼šA5ï¼ŒE10ï¼ŒB15ï¼ŒD30ï¼ŒC40ã€‚
2.å–æƒå€¼æœ€å°çš„ä¸¤ä¸ªç»“ç‚¹A5å’ŒE10ä½œä¸ºä¸€ä¸ªæ–°ç»“ç‚¹Nâ‚çš„ä¸¤ä¸ªå­ç»“ç‚¹ï¼Œæƒå€¼è¾ƒå°çš„ä½œä¸ºå·¦å­æ ‘ï¼Œè¾ƒå¤§çš„ä½œä¸ºå³å­æ ‘ã€‚ç„¶åï¼ŒNâ‚çš„æƒå€¼ä¸ºä¸¤ä¸ªå­ç»“ç‚¹çš„æƒå€¼ä¹‹å’Œï¼š5+10=15ã€‚
        Nâ‚
      /    \
     A      E
3.å°†N1ä»£æ›¿A5å’ŒE10æ’å…¥å‰é¢çš„æœ‰åºåºåˆ—ï¼šNâ‚15ï¼ŒB15ï¼ŒD30ï¼ŒC40ã€‚
4.é‡å¤æ­¥éª¤2ï¼Œç›´åˆ°éå†æ‰€æœ‰çš„ç»“ç‚¹ï¼Œå¾—åˆ°èµ«å¤«æ›¼æ ‘ã€‚
        T
     ğŸœğŸ˜/  \ğŸğŸ˜
     C     Nâ‚ƒ
       ğŸ›ğŸ˜ /  \ğŸ›ğŸ˜
        Nâ‚‚    D
     ğŸ™ğŸ/  \ğŸ™ğŸ
     Nâ‚    B
   ğŸ/  \ğŸ™ğŸ˜
   A    E
WPLï¼š40*1 + 60*1 + 30*2 + 15*3 + 5*4 + 10*4 = 205
```
- èµ«å¤«æ›¼ç¼–ç 
èµ«å¤«æ›¼ç¼–ç å°±æ˜¯ä¸»è¦è§£å†³è¿œè·ç¦»é€šä¿¡çš„æ•°æ®ä¼ è¾“çš„æœ€ä¼˜åŒ–çš„é—®é¢˜ã€‚å› ä¸ºï¼Œè®¡ç®—æœºé‡Œæ•°æ®éƒ½æ˜¯é€šè¿‡äºŒè¿›åˆ¶æ¥ä¼ è¾“çš„ï¼Œæ‹¿è‹±æ–‡26ä¸ªå­—æ¯æ¥è¯´ï¼Œæ¯ä¸ªå­—æ¯åœ¨ä¸€å¤©æ–‡ç« ä¸­å‡ºç°çš„æ¦‚ç‡ä¸ä¸€æ ·ï¼Œé‚£ä¹ˆæ¯ä¸ªå­—æ¯å’Œå‡ºç°çš„æ¦‚ç‡å¯ä»¥æ„é€ ä¸€é¢—èµ«å¤«æ›¼æ ‘ï¼Œé€šè¿‡å‡å°‘æ¯ä¸ªå­—æ¯çš„äºŒè¿›åˆ¶ä½æ•°æ¥å‹ç¼©æ–‡ä»¶å¤§å°ï¼Œè¿™å°±æ˜¯èµ«å¤«æ›¼ç¼–ç çš„åº”ç”¨ã€‚
#å…­. å›¾
>å›¾ï¼šç”±é¡¶ç‚¹çš„æœ‰ç©·éç©ºé›†åˆå’Œé¡¶ç‚¹ä¹‹é—´è¾¹çš„é›†åˆç»„æˆï¼Œé€šå¸¸è¡¨ç¤ºä¸ºï¼šG(V, E)ï¼Œå…¶ä¸­Gè¡¨ç¤ºä¸€ä¸ªå›¾ï¼ŒVæ˜¯å›¾Gä¸­é¡¶ç‚¹çš„é›†åˆï¼ŒEæ˜¯å›¾Gä¸­è¾¹çš„é›†åˆã€‚

ç‰¹ç‚¹ï¼š
- é¡¶ç‚¹é›†åˆä¸èƒ½ä¸ºç©º
- è¾¹çš„é›†åˆå¯ä»¥ä¸ºç©º

# å…­.å„ç§å›¾å®šä¹‰

- **æ— å‘å›¾**ï¼šè‹¥é¡¶ç‚¹v1åˆ°v2ä¹‹é—´çš„è¾¹æ²¡æœ‰æ–¹å‘ï¼Œåˆ™ç§°è¿™æ¡è¾¹ä¸ºæ— å‘è¾¹ï¼Œç”¨æ— åºå¶å¯¹(v1, v2)æ¥è¡¨ç¤ºã€‚æ— å‘å›¾å°±æ˜¯å›¾ä¸­ä»»æ„ä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´çš„è¾¹éƒ½æ˜¯æ— å‘è¾¹ã€‚
![æ— å‘å›¾](https://upload-images.jianshu.io/upload_images/968977-846b47165429efd0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

- **æœ‰å‘å›¾**ï¼šè‹¥ä»é¡¶ç‚¹v1åˆ°v2çš„è¾¹æœ‰æ–¹å‘ï¼Œåˆ™ç§°è¿™æ¡è¾¹ä¸ºæœ‰å‘è¾¹ï¼Œä¹Ÿç§°ä¸ºå¼§ã€‚ç”¨æœ‰åºå¶å¯¹<v1, v2>æ¥è¡¨ç¤ºï¼Œv1ç§°ä¸ºå¼§å°¾ï¼Œv2ç§°ä¸ºå¼§å¤´ã€‚æœ‰å‘å›¾å°±æ˜¯å›¾ä¸­ä»»æ„ä¸¤æ¡è¾¹éƒ½æ˜¯æœ‰å‘è¾¹ã€‚
![æœ‰å‘å›¾](https://upload-images.jianshu.io/upload_images/968977-d26f7ad75c094985.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

- **ç®€å•å›¾**ï¼šåœ¨å›¾ä¸­ï¼Œä¸å­˜åœ¨é¡¶ç‚¹åˆ°å…¶è‡ªèº«çš„è¾¹ï¼Œå¹¶ä¸”åŒä¸€æ¡è¾¹ä¸é‡å¤å‡ºç°ï¼Œç§°ä¸ºç®€å•å›¾ã€‚
![éç®€å•å›¾](https://upload-images.jianshu.io/upload_images/968977-b28bd33396e016d2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

- **å®Œå…¨å›¾**ï¼šå¦‚æœåœ¨æ— å‘å›¾ä¸­ï¼Œä»»æ„ä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´éƒ½å­˜åœ¨è¾¹ï¼Œåˆ™ç§°ä¸ºå®Œå…¨å›¾ã€‚
![å®Œå…¨å›¾](https://upload-images.jianshu.io/upload_images/968977-187bcb2a4cfd80a1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

- **æœ‰å‘å®Œå…¨å›¾**ï¼šå¦‚æœä»»æ„ä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´éƒ½å­˜åœ¨äº’ä¸ºç›¸åçš„ä¸¤æ¡å¼§ï¼Œåˆ™ç§°ä¸ºåˆæƒ³å®Œå…¨å›¾ã€‚
![æœ‰å‘å®Œå…¨å›¾](https://upload-images.jianshu.io/upload_images/968977-4af16b6bf2e19ee2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
- æœ‰å¾ˆå°‘æ¡è¾¹æˆ–å¼§çš„å›¾ç§°ä¸ºç¨€ç–å›¾ï¼Œåä¹‹ç§°ä¸ºç¨ å¯†å›¾ã€‚ï¼ˆæ•°é‡ä¸ä¸€å®šï¼‰
- ä¸å›¾çš„è¾¹æˆ–è€…å¼§ç›¸å…³çš„æ•°å­—å«åšæƒï¼Œå¸¦æƒçš„å›¾ç§°ä¸ºç½‘ã€‚
- å­å›¾ï¼šå‡è®¾æœ‰ä¸¤ä¸ªå›¾G=(V, {E})å’ŒG1=(V1, {E1})ï¼Œå¦‚æœV1âŠ†Vï¼Œä¸”E1âŠ†Eï¼Œåˆ™ç§°G1ä¸ºGçš„å­å›¾ã€‚

### 6.1å›¾çš„é¡¶ç‚¹å’Œè¾¹ä¹‹é—´çš„å…³ç³»
![å›¾1](https://upload-images.jianshu.io/upload_images/968977-51ddcfc46f340542.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

- **é¡¶ç‚¹çš„åº¦ï¼š**
  å¯¹äºæ— å‘å›¾G=(V,{E})ï¼Œå¦‚æœè¾¹(V,V1)âˆˆEï¼Œåˆ™ç§°é¡¶ç‚¹Vå’ŒV1äº’ä¸ºé‚»æ¥ç‚¹ï¼Œé¡¶ç‚¹Vçš„åº¦æ˜¯å’ŒVç›¸å…³è”çš„è¾¹çš„æ•°ç›®ï¼Œè®°ä¸ºTD(V)ã€‚å¦‚å›¾1ï¼ŒAçš„åº¦TD(A)=3ï¼ŒTD(B)=2ï¼ŒTD(C)=3ï¼ŒTD(D)=2ï¼Œåˆ™å„ä¸ªé¡¶ç‚¹çš„åº¦æ€»å’Œä¸ºï¼š3+2+3+2=10ï¼Œè€Œå›¾1æ— å‘å›¾çš„è¾¹æ•°ä¸º5ï¼Œå³å„ä¸ªé¡¶ç‚¹çš„åº¦çš„æ€»å’Œçš„ä¸€åŠã€‚
   å¯¹äºæœ‰å‘å›¾G=(V,{E})ï¼Œå¦‚æœå¼§<V,V1>âˆˆEï¼Œåˆ™ç§°é¡¶ç‚¹Vå’ŒV1äº’ä¸ºé‚»æ¥ç‚¹ï¼›ä»¥é¡¶ç‚¹Vä¸ºå¤´çš„å¼§çš„æ•°ç›®ç§°ä¸ºVçš„å…¥åº¦ï¼Œè®°ä¸ºID(V)ï¼›ä»¥é¡¶ç‚¹Vä¸ºå°¾çš„å¼§çš„æ•°ç›®ç§°ä¸ºVçš„å‡ºåº¦ï¼Œè®°ä¸ºOD(V)ï¼›åˆ™é¡¶ç‚¹TD(V)=ID(V)+OD(V)ã€‚å¦‚å›¾1æœ‰å‘å›¾ï¼ŒTD(A)=ID(A)+OD(A)=2+1=3ï¼Œå„é¡¶ç‚¹çš„å‡ºåº¦å’Œä¸ºï¼š1+2+1+0=4ï¼Œå„é¡¶ç‚¹çš„å…¥åº¦å’Œä¸ºï¼š2+0+1+1=4ï¼Œæœ‰å‘å›¾çš„è¾¹çš„æ€»æ•°4ï¼Œæ‰€ä»¥ï¼Œæœ‰å‘å›¾è¾¹çš„æ€»æ•°=å„é¡¶ç‚¹çš„å‡ºåº¦æ•°=å„é¡¶ç‚¹çš„å…¥åº¦æ•°ã€‚

- **è·¯å¾„ï¼š**
  ä»ä¸€ä¸ªé¡¶ç‚¹åˆ°å¦ä¸€ä¸ªé¡¶ç‚¹æ‰€èµ°è¿‡çš„é¡¶ç‚¹å’Œè¾¹æ‰€è¿æˆçš„é€šé“ã€‚æ¯”å¦‚å›¾1çš„æ— å‘å›¾ï¼Œä»Båˆ°Dæœ‰å››æ¡è·¯å¾„ï¼Œåˆ†åˆ«æ˜¯(BAD)ï¼Œ(BCD)ï¼Œ(BACD)ï¼Œ(BCAD)ã€‚è€Œå›¾1ä»Båˆ°Dçš„è·¯å¾„æ˜¯æœ‰æ–¹å‘çš„ï¼Œå³(BAD)ï¼Œ(BCAD)ã€‚è·¯å¾„çš„é•¿åº¦æ˜¯è·¯å¾„ä¸Šçš„è¾¹æ•°æˆ–å¼§çš„æ•°ç›®ã€‚åºåˆ—ä¸­é¡¶ç‚¹ä¸é‡å¤å‡ºç°çš„è·¯å¾„ç§°ä¸ºç®€å•è·¯å¾„ã€‚
- **å›è·¯æˆ–ç¯ï¼š**
  ç‚¹ä¸€ä¸ªé¡¶ç‚¹å’Œæœ€åä¸€ä¸ªé¡¶ç‚¹ç›¸åŒçš„è·¯å¾„ç§°ä¸ºå›è·¯æˆ–è€…ç¯ã€‚å…¶ä¸­ï¼Œé™¤äº†ç¬¬ä¸€ä¸ªé¡¶ç‚¹å’Œæœ€åä¸€ä¸ªé¡¶ç‚¹ï¼Œå…¶ä½™é¡¶ç‚¹ä¸é‡å¤å‡ºç°çš„å›è·¯ï¼Œç§°ä¸ºç®€å•å›è·¯æˆ–ç®€å•ç¯ã€‚ä¸‹é¢å›¾1å·¦è¾¹å°±æ˜¯ç®€å•å›è·¯ï¼Œå³è¾¹å¹¶ä¸æ˜¯ç®€å•å›è·¯ï¼Œå› ä¸ºé¡¶ç‚¹Cé‡å¤å‡ºç°äº†ã€‚
  ![å›¾2](https://upload-images.jianshu.io/upload_images/968977-7f51161408592603.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

- **è¿é€šå›¾ï¼š**
åœ¨æ— å‘å›¾Gä¸­ï¼Œå¦‚æœä»é¡¶ç‚¹Våˆ°é¡¶ç‚¹V1æœ‰è·¯å¾„ï¼Œåˆ™ç§°é¡¶ç‚¹Vå’Œé¡¶ç‚¹V1æ˜¯è¿é€šçš„ã€‚å¦‚æœå¯¹äºå›¾ä¸­ä»»æ„ä¸¤ä¸ªé¡¶ç‚¹éƒ½æ˜¯è¿é€šçš„ï¼Œåˆ™ç§°Gæ˜¯è¿é€šå›¾ã€‚å¦‚å›¾3ï¼Œå·¦è¾¹çš„å›¾ä¸æ˜¯è¿é€šå›¾ï¼Œå³è¾¹çš„å›¾æ˜¯è¿é€šå›¾ã€‚
![å›¾3](https://upload-images.jianshu.io/upload_images/968977-85d8da5bce26ae12.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
![å›¾4](https://upload-images.jianshu.io/upload_images/968977-90f879f15eef7fb2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)


- **è¿é€šåˆ†é‡ï¼š**
  æ— å‘å›¾ä¸­çš„æå¤§è¿é€šå­å›¾ç§°ä¸ºè¿é€šåˆ†é‡ã€‚
  ï¼ˆ1ï¼‰å­å›¾ã€‚
  ï¼ˆ2ï¼‰å­å›¾æ˜¯è¿é€šçš„ã€‚
  ï¼ˆ3ï¼‰è¿é€šçš„å­å›¾å«æœ‰æå¤§çš„é¡¶ç‚¹æ•°ã€‚
  ï¼ˆ4ï¼‰å…·æœ‰æå¤§é¡¶ç‚¹æ•°çš„è¿é€šå­å›¾åŒ…å«ä¾é™„äºè¿™äº›é¡¶ç‚¹çš„æ‰€æœ‰è¾¹ã€‚
  æ¯”å¦‚å›¾3ä¸­ï¼Œå·¦è¾¹çš„å›¾çš„è¿é€šåˆ†é‡ä¸ºå³è¾¹çš„å›¾ã€‚
  åœ¨æœ‰å‘å›¾Gä¸­ï¼Œå¦‚æœå¯¹äºæ¯ä¸€å¯¹V1ï¼ŒV2âˆˆVï¼ŒV1â‰ V2ï¼Œä»V1åˆ°V2å’Œä»V2åˆ°V1éƒ½å­˜åœ¨è·¯å¾„ï¼Œåˆ™ç§°Gæ˜¯å¼ºè¿é€šå›¾ã€‚æœ‰å‘å›¾ä¸­æå¤§å¼ºè¿é€šå­å›¾ç§°åšæœ‰å‘å›¾çš„å¼ºè¿é€šåˆ†é‡ã€‚ä¸Šå›¾4ä¸­å·¦è¾¹çš„å›¾ä¸æ˜¯å¼ºè¿é€šå›¾ï¼Œå³è¾¹çš„å›¾æ˜¯å¼ºè¿é€šå›¾ï¼ˆBåˆ°Açš„æ–¹å‘æ ‡é”™äº†ï¼Œåº”è¯¥æ˜¯A->Bï¼‰ã€‚
- **æ— å‘å›¾ç”Ÿæˆæ ‘ï¼š**
  ä¸€ä¸ªè¿é€šå›¾çš„ç”Ÿæˆæ ‘æ˜¯ä¸€ä¸ªæå°çš„è¿é€šå­å›¾ï¼Œå®ƒå«æœ‰å›¾ä¸­å…¨éƒ¨çš„nä¸ªé¡¶ç‚¹ï¼Œä½†åªæœ‰è¶³ä»¥æ„æˆä¸€æ£µæ ‘çš„n-1æ¡è¾¹ã€‚æ¯”å¦‚å›¾2ä¸­å·¦è¾¹çš„æ— å‘å›¾ï¼Œå®ƒçš„è¿é€šåˆ†é‡ä¸ºè‡ªèº«ï¼Œåˆ™å®ƒçš„æå°è¿é€šå­å›¾ä¸ºï¼Œè‡ªèº«åˆ é™¤ACå’ŒADä¸¤æ¡è¾¹ï¼Œåˆ™æ„æˆä¸€ä¸ªæå°è¿é€šå›¾ï¼Œå› ä¸ºå†å»å¤šä¸€æ¡è¾¹å°±æ„ä¸æˆè¿é€šå›¾äº†ï¼Œè¿™ä¸ªå°±æ˜¯è¿é€šå›¾çš„ç”Ÿæˆæ ‘ã€‚
- **æœ‰å‘æ ‘ï¼š**
  å¦‚æœä¸€ä¸ªæœ‰å‘å›¾æ°æœ‰ä¸€ä¸ªé¡¶ç‚¹çš„å…¥åº¦ä¸º0ï¼Œå…¶ä½™é¡¶ç‚¹çš„å…¥åº¦éƒ½ä¸º1ï¼Œåˆ™æ˜¯ä¸€é¢—æœ‰å‘æ ‘ã€‚ï¼ˆä¸éœ€è¦è¿é€šï¼‰
- **ç”Ÿæˆæ£®æ—ï¼š**
  ä¸€ä¸ªæœ‰å‘å›¾çš„ç”Ÿæˆæ£®æ—ç”±è‹¥å¹²æœ‰å‘æ ‘ç»„æˆï¼Œå«æœ‰å›¾ä¸­å…¨éƒ¨é¡¶ç‚¹ï¼Œä½†åªæœ‰è¶³ä»¥æ„æˆè‹¥å¹²è¯¾ä¸ç›¸äº¤çš„æœ‰å‘æ ‘çš„å¼§ã€‚
  ![å›¾5](https://upload-images.jianshu.io/upload_images/968977-905b8e8e2db52233.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

### 6.2å›¾çš„æŠ½è±¡æ•°æ®ç±»å‹
```
ADT å›¾(Graph) 
Data
    é¡¶ç‚¹æ˜¯æœ‰ç©·ä¸”éç©ºé›†åˆ+è¾¹çš„é›†åˆ
Operation
    ...
    addVertex(v)ï¼šæ·»åŠ é¡¶ç‚¹
    addEdge(v1, v2)ï¼šæ·»åŠ è¾¹
    DFSTraverse()ï¼šæ·±åº¦ä¼˜å…ˆéå†
    BFSTraverse()ï¼šå¹¿åº¦ä¼˜å…ˆéå†
    ...
EndADT
```
### 6.3å›¾çš„æ•°æ®å­˜å‚¨

#### 6.3.1é‚»æ¥çŸ©é˜µ

>é‚»æ¥çŸ©é˜µï¼šç”¨ä¸¤ä¸ªæ•°ç»„æ¥è¡¨ç¤ºå›¾ã€‚ä¸€ä¸ªä¸€ç»´æ•°ç»„å‚¨å­˜å›¾ä¸­é¡¶ç‚¹ä¿¡æ¯ï¼Œä¸€ä¸ªäºŒç»´æ•°ç»„ï¼ˆç§°ä¸ºé‚»æ¥çŸ©é˜µï¼‰å­˜å‚¨å›¾ä¸­çš„è¾¹æˆ–å¼§çš„ä¿¡æ¯ã€‚

- **æ— å‘å›¾**
![é‚»æ¥çŸ©é˜µå›¾1](https://upload-images.jianshu.io/upload_images/968977-ebce27e336d6d3ec.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

![é‚»æ¥çŸ©é˜µå›¾2](https://upload-images.jianshu.io/upload_images/968977-5242167d0c5aff96.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
ä¿¡æ¯ï¼š
ï¼ˆ1ï¼‰v1çš„åº¦å³ä¸ºç¬¬1è¡Œï¼Œæ‰€æœ‰å…ƒç´ ä¹‹å’Œï¼š1+0+1+0=2ã€‚
ï¼ˆ2ï¼‰v1çš„é‚»æ¥ç‚¹å³ä¸ºç¬¬1è¡Œï¼Œæ‰€æœ‰å…ƒç´ ä¸º1çš„é¡¶ç‚¹ã€‚
ï¼ˆ3)åˆ¤æ–­v1åˆ°v2æ˜¯å¦æœ‰è¾¹ï¼Œåªéœ€è¦åˆ¤æ–­arc\[1][2]==1?å°±è¡Œï¼Œæ‰€ä»¥ï¼Œv1åˆ°v2æœ‰è¾¹ã€‚

- **æœ‰å‘å›¾**
![é‚»æ¥çŸ©é˜µ3](https://upload-images.jianshu.io/upload_images/968977-5ca66f5e5fa37b2d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
ä¿¡æ¯ï¼š
ï¼ˆ1ï¼‰v1çš„å‡ºåº¦ä¸ºç¬¬1è¡Œçš„å…ƒç´ ä¹‹å’Œï¼š1+0+1+0=2ï¼›v1çš„å…¥åº¦ä¸ºç¬¬1åˆ—çš„å…ƒç´ ä¹‹å’Œï¼š0+0+1+0=1ã€‚
ï¼ˆ2ï¼‰åˆ¤æ–­v0åˆ°v3æ˜¯å¦æœ‰å¼§ï¼Œåªéœ€è¦åˆ¤æ–­arc\[0][3]==1?å°±è¡Œï¼Œæ‰€ä»¥ï¼Œv0åˆ°v3æ˜¯æœ‰å¼§çš„ã€‚ï¼ˆv3åˆ°v0æ²¡æœ‰å¼§ï¼Œå¼§æ˜¯æœ‰æ–¹å‘çš„)
- **å¸¦æƒæœ‰å‘å›¾**
å°±æ˜¯å°†æœ‰å‘å›¾çš„é‚»æ¥çŸ©é˜µä¸­çš„0å’Œ1æ¢æˆç›¸åº”çš„æƒå€¼ï¼Œä¸å­˜åœ¨åˆ™è®¾ç½®ä¸ºâˆï¼Œè‡ªèº«åˆ™è®¾ç½®ä¸º0ã€‚
![é‚»æ¥çŸ©é˜µ4](https://upload-images.jianshu.io/upload_images/968977-374ee6424e4d7577.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

#### 6.3.2é‚»æ¥è¡¨

>é‚»æ¥è¡¨ï¼šæ•°ç»„å’Œé“¾è¡¨ç»„åˆçš„å­˜å‚¨æ–¹æ³•ç§°ä¸ºé‚»æ¥è¡¨ã€‚

é‚»æ¥è¡¨å¤„ç†ï¼š
ï¼ˆ1ï¼‰å›¾ä¸­é¡¶ç‚¹ä½¿ç”¨ä¸€ä¸ªä¸€ç»´æ•°ç»„å­˜å‚¨ã€‚
ï¼ˆ2ï¼‰å›¾ä¸­æ¯ä¸ªé¡¶ç‚¹vçš„æ‰€æœ‰é‚»æ¥ç‚¹æ„æˆä¸€ä¸ªçº¿æ€§è¡¨ã€‚

- æ— å‘å›¾é‚»æ¥è¡¨ï¼š
![é‚»æ¥è¡¨å›¾1](https://upload-images.jianshu.io/upload_images/968977-9ec11ae2326d4474.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
- æœ‰å‘å›¾é‚»æ¥è¡¨å’Œé€†é‚»æ¥è¡¨ï¼š
ï¼ˆ1ï¼‰æœ‰å‘å›¾é‚»æ¥è¡¨è®°å½•çš„æ˜¯é¡¶ç‚¹çš„å‡ºåº¦çš„å¼§ï¼Œå³å¼§å°¾ã€‚
ï¼ˆ2ï¼‰æœ‰å‘å›¾é€†é‚»æ¥è¡¨è®°å½•çš„æ˜¯é¡¶ç‚¹çš„å…¥åº¦çš„å¼§ï¼Œå³å¼§å¤´ã€‚
![é‚»æ¥è¡¨å›¾2](https://upload-images.jianshu.io/upload_images/968977-c9b11da6e23d2f49.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
- å¸¦æƒé‚»æ¥è¡¨
![é‚»æ¥è¡¨å›¾3](https://upload-images.jianshu.io/upload_images/968977-8c63d6233d3a9a25.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

####  6.3.3åå­—é“¾è¡¨

>åå­—é“¾è¡¨ï¼šå³æŠŠé‚»æ¥è¡¨ä¸é€†é‚»æ¥è¡¨ç»“åˆèµ·æ¥ã€‚ï¼ˆæœ‰å‘é‚»æ¥è¡¨çš„ä¼˜åŒ–ï¼‰

- é‡æ–°å®šä¹‰é¡¶ç‚¹
![åå­—é“¾è¡¨é¡¶ç‚¹](https://upload-images.jianshu.io/upload_images/968977-0874719ed07b9077.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
dataä¸ºæ•°æ®åŸŸï¼Œfirstinä¸ºå…¥è¾¹çš„è¡¨å¤´æŒ‡é’ˆï¼Œfirsetoutä¸ºå‡ºè¾¹çš„è¡¨å¤´æŒ‡é’ˆã€‚é¡¶ç‚¹çš„å…¥è¾¹ä»firstinå¼€å§‹æŸ¥è¯¢ï¼ŒåŒç†ï¼Œé¡¶ç‚¹çš„å‡ºè¾¹ä»firstoutå¼€å§‹æŸ¥è¯¢ã€‚

- é‡æ–°å®šä¹‰è¾¹ç»“ç‚¹ç»“æ„
![åå­—é“¾è¡¨ç»“ç‚¹](https://upload-images.jianshu.io/upload_images/968977-4e308f9f346d84a5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
tailvexæ˜¯æŒ‡å¼§å°¾ç»“ç‚¹çš„ä¸‹æ ‡ï¼Œheadvexæ˜¯æŒ‡å¼§å¤´ç»“ç‚¹çš„ä¸‹æ ‡ï¼›headlinkæ˜¯æŒ‡å¼§å¤´ç»“ç‚¹ä¸‹æ ‡å’Œheadvexç›¸åŒçš„å¦ä¸€ä¸ªå¼§å¤´ç»“ç‚¹ä¸‹æ ‡ï¼ŒåŒç†ï¼Œtaillinkæ˜¯æŒ‡å¼§å°¾ç»“ç‚¹ä¸‹æ ‡å’Œtailvexç›¸åŒçš„å¦ä¸€ä¸ªå¼§å°¾ç»“ç‚¹ä¸‹æ ‡ï¼Œæ²¡æœ‰ç½®ä¸ºç©ºã€‚

ä¸¾ä¸ªä¾‹å­ï¼š
![åå­—é“¾è¡¨å›¾1](https://upload-images.jianshu.io/upload_images/968977-6778065b004761a1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

v0çš„å…¥åº¦ä¸ºï¼š1->0, 2->0ï¼Œv0çš„å‡ºåº¦ä¸ºï¼š0->3ã€‚

#### 6.3.4é‚»æ¥å¤šé‡è¡¨

>é‚»æ¥å¤šé‡è¡¨ï¼šæ”¹é€ è¾¹ç»“ç‚¹ï¼Œä½¿åˆ é™¤æŸä¸€æ¡è¾¹ä¸éœ€è¦éå†ä¸¤æ¬¡ã€‚ï¼ˆæ— å‘é‚»æ¥è¡¨çš„ä¼˜åŒ–ï¼‰

![é‚»æ¥å¤šé‡è¡¨ç»“ç‚¹](https://upload-images.jianshu.io/upload_images/968977-f1bacfd0e94b50ef.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
å…¶ä¸­ivexå’Œjvexæ˜¯ä¸æŸæ¡è¾¹ä¾é™„çš„ä¸¤ä¸ªé¡¶ç‚¹åœ¨é¡¶ç‚¹è¡¨ä¸­çš„ä¸‹æ ‡ã€‚ilinkæŒ‡å‘ä¾é™„é¡¶ç‚¹ivexçš„ä¸‹ä¸€æ¡è¾¹ï¼ŒjlinkæŒ‡å‘ä¾é™„é¡¶ç‚¹jvexçš„ä¸‹ä¸€æ¡è¾¹ã€‚

![é‚»æ¥å¤šé‡è¡¨](https://upload-images.jianshu.io/upload_images/968977-6ef3e5e451d320c1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
ä¸Šå›¾æ€»å…±æœ‰5æ¡è¾¹ï¼Œåˆ†åˆ«æ˜¯v0->v1ï¼Œv1->v2ï¼Œv2->v3ï¼Œv3->v0ï¼Œv0-v2ï¼Œæ‰€ä»¥ï¼Œä¼šæœ‰5ä¸ªè¾¹ç»“ç‚¹ã€‚ç„¶åä»v0å¼€å§‹ï¼Œæœ‰ä¸‰æ¡é‚»æ¥çš„è¾¹ï¼Œåˆ†åˆ«æ˜¯v0-v1ï¼Œv0-v2ï¼Œv0-v3ï¼Œé¦–å…ˆvoæŒ‡å‘E(0,1)ï¼Œç„¶åå½“å‰çš„è¾¹ç»“ç‚¹çš„ivex=0ï¼Œæ‰€ä»¥ï¼Œilinkéœ€è¦æ‰¾åˆ°ä¸‹ä¸€æ¡é¡¶ç‚¹ä¸ºv0çš„è¾¹ï¼Œé¡ºç€è¾¹ç»“ç‚¹å¾€ä¸‹æ‰¾ï¼Œå¯ä»¥æ‰¾åˆ°E(3,0)ï¼Œæ‰€ä»¥ï¼ŒilinkæŒ‡å‘E(3,0)ï¼Œç”±äºï¼Œv0è¿˜æœ‰å¦å¤–ä¸€æ¡è¾¹E(0,2)ï¼Œæ‰€ä»¥ï¼Œjlinké¡ºç€å¾€ä¸‹æ‰¾ï¼Œæ‰¾åˆ°E(0,2)ï¼Œå†å¾€ä¸‹æ²¡æœ‰è¾¹ç»“ç‚¹äº†ï¼Œæ‰€ä»¥ç½®ä¸ºç©ºã€‚å…¶ä»–é¡¶ç‚¹çš„æ“ä½œä¹Ÿæ˜¯ç›¸ä¼¼çš„è¿‡ç¨‹ã€‚

#### 6.3.5è¾¹é›†æ•°ç»„

>è¾¹é›†æ•°ç»„ï¼šè¾¹é›†æ•°ç»„æ˜¯ç”±ä¸¤ä¸ªä¸€ä½æ•°ç»„ç»„æˆã€‚ä¸€ä¸ªæ˜¯å­˜å‚¨é¡¶ç‚¹ä¿¡æ¯ï¼Œå¦ä¸€ä¸ªæ˜¯å­˜å‚¨è¾¹çš„ä¿¡æ¯ã€‚è¿™ä¸ªæ•°ç»„æ¯ä¸ªæ•°æ®å…ƒç´ ç”±ä¸€æ¡è¾¹çš„èµ·ç‚¹ä¸‹æ ‡(begin)ï¼Œç»ˆç‚¹ä¸‹æ ‡(end)å’Œæƒ(weight)ç»„æˆã€‚

![è¾¹é›†æ•°ç»„](https://upload-images.jianshu.io/upload_images/968977-88c39379b7d01d52.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

### 6.4å›¾çš„éå†
>å›¾çš„éå†ï¼šä»å›¾ä¸­æŸä¸€é¡¶ç‚¹å‡ºå‘è®¿éå›¾ä¸­å…¶ä½™é¡¶ç‚¹ï¼Œä¸”ä½¿æ¯ä¸€ä¸ªé¡¶ç‚¹è¢«è®¿é—®ä¸€æ¬¡ã€‚

#### 6.4.1æ·±åº¦ä¼˜å…ˆéå†ï¼ˆDFSï¼‰
è¿é€šå›¾æ·±åº¦ä¼˜å…ˆéå†ï¼š ä»å›¾ä¸­çš„æŸä¸ªé¡¶ç‚¹vå‡ºå‘ï¼Œè®¿é—®æ­¤é¡¶ç‚¹ï¼Œç„¶åä»vçš„æœªè¢«è®¿é—®çš„é‚»æ¥é¡¶ç‚¹å‡ºå‘ï¼Œæ·±åº¦ä¼˜å…ˆéå†å›¾ï¼Œç›´åˆ°å›¾ä¸­æ‰€æœ‰å’Œvæœ‰è·¯å¾„ç›¸é€šçš„é¡¶ç‚¹è¢«è®¿é—®åˆ°ã€‚
éè¿é€šå›¾æ·±åº¦ä¼˜å…ˆéå†ï¼šå…ˆå¯¹ä¸€ä¸ªé¡¶ç‚¹è¿›è¡Œè¿é€šå›¾æ·±åº¦ä¼˜å…ˆéå†ï¼Œè‹¥è¿˜æœ‰æ²¡æœ‰è¢«è®¿é—®çš„é¡¶ç‚¹ï¼Œå†å¯¹è¯¥é¡¶ç‚¹è¿›è¡Œè¿é€šå›¾æ·±åº¦ä¼˜å…ˆéå†ï¼Œç›´åˆ°å›¾ä¸­æ‰€æœ‰é¡¶ç‚¹éƒ½è¢«è®¿é—®åˆ°ã€‚

![æ·±åº¦ä¼˜å…ˆéå†å›¾1](https://upload-images.jianshu.io/upload_images/968977-2b304269fb646773.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

é‚»æ¥çŸ©é˜µå­˜å‚¨å›¾ï¼Œæ·±åº¦ä¼˜å…ˆéå†å®ç°ç®—æ³•
```
ä½¿ç”¨æ·±åº¦ä¼˜å…ˆéå†å›¾1å®ç°æ·±åº¦ä¼˜å…ˆéå†ç®—æ³•
//é‚»æ¥çŸ©é˜µ
public struct Graph<T: Equatable> {
    fileprivate var vexs: [T] = []
    fileprivate var arc: [[Int]] = []
    public var vertexes: Int {
        return vexs.count
    }
    public var edges: Int {
        var count = 0
        for items in arc {
            for item in items {
                if item > 0 {
                    count += 1
                }
            }
        }
        return count
    }
    
    public mutating func addVertex(vertext: T) {
        vexs.append(vertext)
        for i in 0..<arc.count {
            var temp = arc[i]
            temp.append(0)
            arc[i] = temp
        }
        
        let newArray = Array(repeating: 0, count: arc.count+1)
        arc.append(newArray)
    }
    
    public mutating func addEdge(from top1: T, to top2: T) {
        let containTop1 = vexs.contains { $0 == top1 }
        let containTop2 = vexs.contains { $0 == top2 }
        
        guard containTop1, containTop2 else {
            return
        }
        
        let row = vexs.index(of: top1)!
        let column = vexs.index(of: top2)!
        arc[row][column] = 1
    }
}

var graphics = Graph<String>()
graphics.addVertex(vertext: "A")
graphics.addVertex(vertext: "B")
graphics.addVertex(vertext: "C")
graphics.addVertex(vertext: "D")
graphics.addVertex(vertext: "E")
graphics.addVertex(vertext: "F")
graphics.addVertex(vertext: "G")
graphics.addVertex(vertext: "H")
graphics.addVertex(vertext: "I")

graphics.addEdge(from: "A", to: "B")
graphics.addEdge(from: "A", to: "F")
graphics.addEdge(from: "B", to: "C")
graphics.addEdge(from: "B", to: "I")
graphics.addEdge(from: "B", to: "G")
graphics.addEdge(from: "C", to: "I")
graphics.addEdge(from: "C", to: "D")
graphics.addEdge(from: "D", to: "I")
graphics.addEdge(from: "D", to: "E")
graphics.addEdge(from: "D", to: "G")
graphics.addEdge(from: "D", to: "H")
graphics.addEdge(from: "E", to: "F")
graphics.addEdge(from: "E", to: "H")
graphics.addEdge(from: "F", to: "G")
graphics.addEdge(from: "G", to: "H")

//æ·±åº¦ä¼˜å…ˆéå†
var visited: [Bool] = []
func DFS(graphics: Graph<String>, i: Int) {
    visited[i] = true
    print(graphics.vexs[i])
    
    for j in 0..<graphics.vertexes {
        if graphics.arc[i][j] == 1, !visited[j] {
            DFS(graphics: graphics, i: j)
        }
    }
}

func DFSTraverse(graphics: Graph<String>) {
    for _ in 0..<graphics.vertexes {
        visited.append(false)
    }
    
    for i in 0..<graphics.vertexes {
        if !visited[i] {
            DFS(graphics: graphics, i: i)
        }
    }
}

DFSTraverse(graphics: graphics)

è¾“å‡ºç»“æœï¼šABCDEFGHI
```
é‚»æ¥é“¾è¡¨å­˜å‚¨å›¾ï¼Œæ·±åº¦ä¼˜å…ˆéå†å®ç°ç®—æ³•ï¼š
```
class EdgeNode<T: Equatable> {
    var index: Int
    var nextEdge: EdgeNode<T>?

    init(atIndex index: Int) {
        self.index = index
    }
}

class VertexNode<T: Equatable> {
    var data: T
    var firstEdge: EdgeNode<T>?

    init(_ data: T) {
        self.data = data
    }
}

class Graphics<T: Equatable> {
    var adjList: [VertexNode<T>] = []
    var numVertexes: Int {
        return adjList.count
    }
    var numEdges: Int {
        var count = 0
        for vertex in adjList {
            if let edge = vertex.firstEdge {
                count += 1
                var next = edge.nextEdge
                while next != nil {
                    count += 1
                    next = next?.nextEdge
                }
            }
        }
        return count/2
    }

    func addVertex(vertex: T) {
        let v = VertexNode<T>(vertex)
        adjList.append(v)
    }

    func addEdge(from v1: T, to v2: T) {
        let vertex1 = getVertex(data: v1)
        let vertex2 = getVertex(data: v2)
        guard vertex1 != nil, vertex2 != nil else {
            return;
        }

        let index1 = getVertextIndex(v1)!
        let index2 = getVertextIndex(v2)!
        
        vertextAddEdge(vertex: vertex1!, index: index2)
        vertextAddEdge(vertex: vertex2!, index: index1)
    }

    func vertextAddEdge(vertex: VertexNode<T>, index: Int) {
        var edgeNode = vertex.firstEdge
        guard edgeNode != nil else {
            vertex.firstEdge = EdgeNode<T>(atIndex: index)
            return;
        }

        let value = adjList[index].data
        if adjList[(edgeNode?.index)!].data == value {
            return
        }
        while edgeNode?.nextEdge != nil {
            edgeNode = edgeNode?.nextEdge
            if adjList[(edgeNode?.index)!].data == value {
                return
            }
        }
        edgeNode?.nextEdge = EdgeNode<T>(atIndex: index)
    }

    func getVertex(data: T) -> VertexNode<T>? {
        for v in adjList {
            if v.data == data {
                return v
            }
        }
        return nil
    }

    func getVertextIndex(_ data: T) -> Int? {
        for index in 0..<adjList.endIndex {
            let vertex = adjList[index]
            if vertex.data == data {
                return index
            }
        }
        return nil
    }
}

let graphics = Graphics<String>()
graphics.addVertex(vertex: "A")
graphics.addVertex(vertex: "B")
graphics.addVertex(vertex: "C")
graphics.addVertex(vertex: "D")
graphics.addVertex(vertex: "E")
graphics.addVertex(vertex: "F")
graphics.addVertex(vertex: "G")
graphics.addVertex(vertex: "H")
graphics.addVertex(vertex: "I")

graphics.addEdge(from: "A", to: "B")
graphics.addEdge(from: "A", to: "F")
graphics.addEdge(from: "B", to: "A")
graphics.addEdge(from: "B", to: "C")
graphics.addEdge(from: "B", to: "G")
graphics.addEdge(from: "B", to: "I")
graphics.addEdge(from: "C", to: "B")
graphics.addEdge(from: "C", to: "D")
graphics.addEdge(from: "C", to: "I")
graphics.addEdge(from: "D", to: "C")
graphics.addEdge(from: "D", to: "E")
graphics.addEdge(from: "D", to: "G")
graphics.addEdge(from: "D", to: "H")
graphics.addEdge(from: "D", to: "I")
graphics.addEdge(from: "E", to: "D")
graphics.addEdge(from: "E", to: "F")
graphics.addEdge(from: "E", to: "H")
graphics.addEdge(from: "F", to: "G")
graphics.addEdge(from: "G", to: "B")
graphics.addEdge(from: "G", to: "D")
graphics.addEdge(from: "G", to: "F")
graphics.addEdge(from: "G", to: "H")

var visited: [Bool] = []
func DFS(graphics: Graphics<String>, i: Int) {
    visited[i] = true
    print(graphics.adjList[i].data)

    var edgeNode = graphics.adjList[i].firstEdge
    while edgeNode != nil {
        if !visited[(edgeNode?.index)!] {
            DFS(graphics: graphics, i: (edgeNode?.index)!)
        }
        edgeNode = edgeNode?.nextEdge
    }
}

func DFSTraverse(graphics: Graphics<String>) {
    for _ in 0..<graphics.numVertexes {
        visited.append(false)
    }

    for i in 0..<graphics.numVertexes {
        if !visited[i] {
            DFS(graphics: graphics, i: i)
        }
    }
}

DFSTraverse(graphics: graphics)
è¾“å‡ºç»“æœï¼šABCDEFGHI
```
#### 6.4.2å¹¿åº¦ä¼˜å…ˆéå†ï¼ˆBFSï¼‰
å¦‚æœæ·±åº¦ä¼˜å…ˆéå†ç±»ä¼¼äºæ ‘çš„**å‰åºéå†**ï¼Œé‚£ä¹ˆå¹¿åº¦ä¼˜å…ˆéå†åˆ™ç±»ä¼¼äºæ ‘çš„**å±‚éå†**ã€‚ä¸æ·±åº¦ä¼˜å…ˆéå†å›¾1ä¸ºä¾‹ï¼Œåˆ™å¹¿åº¦ä¼˜å…ˆéå†çš„é¡ºåºåˆ™ä¸ºï¼š
ï¼ˆ1ï¼‰Aï¼ˆ2ï¼‰BFï¼ˆ3ï¼‰CIGEï¼ˆ4ï¼‰DHã€‚

é‚»æ¥çŸ©é˜µå­˜å‚¨å›¾ï¼Œå¹¿åº¦ä¼˜å…ˆéå†å®ç°ç®—æ³•
```
var visited: [Bool] = []

func BFSTraverse(graphics: Graph<String>) {
    for _ in 0..<graphics.vertexes {
        visited.append(false)
    }
    
    var result: [String] = []
    for i in 0..<graphics.vertexes {
        if !visited[i] {
            visited[i] = true
            print(graphics.vexs[i])
            result.append(graphics.vexs[i])
            while !result.isEmpty {
                result.removeFirst()
                for j in 0..<graphics.vertexes {
                    if graphics.arc[i][j] == 1, !visited[j] {
                        visited[j] = true
                        print(graphics.vexs[j])
                        result.append(graphics.vexs[j])
                    }
                }
            }
        }
    }
}

BFSTraverse(graphics: graphics)
è¾“å‡ºç»“æœï¼šABFCDIEHG
```
é‚»æ¥é“¾è¡¨å­˜å‚¨å›¾ï¼Œæ·±åº¦ä¼˜å…ˆéå†å®ç°ç®—æ³•ï¼š
```
var visited: [Bool] = []
func BFSTraverse(graphics: Graphics<String>) {
    for _ in 0..<graphics.numVertexes {
        visited.append(false)
    }
    
    var result: [VertexNode<String>] = []
    for i in 0..<graphics.numVertexes {
        if !visited[i] {
            visited[i] = true
            print(graphics.adjList[i].data)
            result.append(graphics.adjList[i])
            while !result.isEmpty {
                let vertex = result.removeFirst()
                var edgeNode = vertex.firstEdge
                while edgeNode != nil {
                    if !visited[(edgeNode?.index)!] {
                        visited[(edgeNode?.index)!] = true
                        print(graphics.adjList[(edgeNode?.index)!].data)
                        result.append(graphics.adjList[(edgeNode?.index)!])
                    }
                    edgeNode = edgeNode?.nextEdge
                }
            }
        }
    }
}

BFSTraverse(graphics: graphics)
è¾“å‡ºç»“æœï¼šABFCGIEDH
```

>æ¯”è¾ƒï¼šæ·±åº¦ä¼˜å…ˆéå†é€‚åˆç›®æ ‡æ¯”è¾ƒæ˜ç¡®ï¼Œè€Œå¹¿åº¦ä¼˜å…ˆéå†æ›´é€‚åˆåœ¨ä¸æ–­æ‰©å¤§èŒƒå›´æ—¶æ‰¾åˆ°ç›¸å¯¹æœ€ä¼˜è§£çš„æƒ…å†µã€‚

### 6.5æœ€å°ç”Ÿæˆæ ‘
>æœ€å°ç”Ÿæˆæ ‘ï¼šæ„é€ è¿é€šç½‘çš„æœ€å°ä»£ä»·ç”Ÿæˆæ ‘ç§°ä¸ºæœ€å°ç”Ÿæˆæ ‘ã€‚

å¯»æ‰¾æœ€å°ç”Ÿæˆæ ‘çš„ä¸¤ç§ç®—æ³•ï¼šæ™®é‡Œå§†ç®—æ³•(Prim)å’Œå…‹é²æ–¯å¡å°”ç®—æ³•(Kruskal)ã€‚

#### 6.5.1æ™®é‡Œå§†ç®—æ³•

>å‡è®¾Næ˜¯è¿é€šç½‘ï¼ŒTEæ˜¯Nä¸Šæœ€å°ç”Ÿæˆæ ‘ä¸­è¾¹çš„é›†åˆã€‚ç®—æ³•ä»U={u0}(u0âˆˆV)ï¼ŒTE={}å¼€å§‹ã€‚é‡å¤æ‰§è¡Œä¸‹è¿°æ“ä½œï¼šåœ¨æ‰€æœ‰uâˆˆV,vâˆˆV-Uçš„è¾¹(u,v)âˆˆEä¸­ï¼Œæ‰¾ä¸€æ¡ä»£ä»·æœ€å°çš„è¾¹(u0,v0)å¹¶å…¥é›†åˆTEï¼ŒåŒæ—¶v0å¹¶å…¥Uï¼Œç›´è‡³U=Vä¸ºæ­¢ã€‚æ­¤æ—¶TEä¸­å¿…æœ‰n-1æ¡è¾¹ï¼Œåˆ™T=(V,{TE})ä¸ºNçš„æœ€å°ç”Ÿæˆæ ‘ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)ã€‚é€šä¿—æ¥è®²ï¼Œå…ˆä»v0å¼€å§‹ï¼Œæ‰¾åˆ°å’Œv0è¿æ¥çš„æƒé‡æœ€å°çš„è¾¹çš„é¡¶ç‚¹v1ï¼Œç„¶åå†æ‰¾{v0,v1}ç›¸è¿çš„æƒé‡æœ€å°çš„è¾¹ï¼Œç›´åˆ°æ‰€æœ‰é¡¶ç‚¹éƒ½æ‰¾å®Œã€‚

```
func miniSpanTree_prim(graphics: Graph<String>) {
    var adjvex = Array(repeating: 0, count: graphics.vertexes)  //åˆå§‹åŒ–éƒ½ä¸º0ï¼Œæ„å‘³ç€ä»v0å¼€å§‹æ‰¾
    var lowcost = graphics.arc[0] //åˆå§‹åŒ–ä¸ºv0æ‰€å…³è”çš„æ‰€æœ‰è¾¹çš„æƒå€¼
    
    //å› ä¸ºv0å·²ç»åœ¨adjvexé‡Œé¢äº†ï¼Œæ‰€ä»¥ä»ä¸‹æ ‡1å¼€å§‹å¯»æ‰¾
    var min: Int
    for _ in 1..<graphics.vertexes {
        min = Int.max  //lowcostä¸‹æ ‡ä¸º0åˆ™è¯´æ˜è¯¥é¡¶ç‚¹å·²è¢«æ‰¾è¿‡ï¼Œä¸‹æ ‡ä¸ºInt.maxåˆ™æ„å‘³ç€ï¼Œæ²¡æœ‰è¯¥æ¡è¾¹
        var k = 0 //ä¿å­˜æœ€å°å€¼çš„ä¸‹æ ‡
        for j in 1..<graphics.vertexes {
            if lowcost[j] != 0, lowcost[j] < min {
                min = lowcost[j]
                k = j
            }
        }
        print("\(adjvex[k], k)")  //adjvex[k]ä¸ºå½“å‰çš„é¡¶ç‚¹ï¼Œkä¸ºå½“å‰é¡¶ç‚¹å…³è”æƒå€¼æœ€å°è¾¹çš„é¡¶ç‚¹çš„ä¸‹æ ‡
        //å°†æ‰¾åˆ°çš„æœ€å°æƒå€¼è¾¹çš„ä¸‹ä¸€ä¸ªé¡¶ç‚¹åŠ å…¥adjvexï¼Œå¹¶ä¸”å°†è¯¥é¡¶ç‚¹ç›¸å…³è”çš„è¾ƒå°è¾¹åŠ å…¥lowcost
        for j in 1..<graphics.vertexes {
            if lowcost[j] != 0, graphics.arc[k][j] < lowcost[j] {
                lowcost[j] = graphics.arc[k][j]
                adjvex[j] = k
            }
        }
    }
}

miniSpanTree_prim(graphics: graphics)
è¾“å‡ºç»“æœï¼š
(0, 1)
(0, 5)
(1, 8)
(8, 2)
(1, 6)
(6, 7)
(7, 4)
(7, 3)
```
**æ³¨æ„ç‚¹ï¼šæ¯æ·»åŠ ä¸€ä¸ªé¡¶ç‚¹ï¼Œlowcostæ•°ç»„ä¸­é™¤äº†å¯¹åº”å·²é€‰åˆ™çš„é¡¶ç‚¹ä¸º0ä¹‹å¤–ï¼Œä¿å­˜å·²é€‰é¡¶ç‚¹å’Œæœªé€‰é¡¶ç‚¹ä¹‹é—´çš„æ‰€æœ‰è¾ƒå°çš„è¾¹ã€‚**

#### 6.5.2å…‹é²æ–¯å¡å°”ç®—æ³•

>å‡è®¾ N= (Vï¼Œ{E})æ˜¯è¿é€šç½‘ï¼Œåˆ™ä»¤æœ€å°ç”Ÿæˆæ ‘çš„åˆå§‹çŠ¶æ€ä¸ºåªæœ‰ n ä¸ªé¡¶ç‚¹è€Œæ— è¾¹çš„ éè¿é€šå›¾ T={Vï¼Œ{}}ï¼Œå›¾ä¸­æ¯ä¸ªé¡¶ç‚¹è‡ªæˆä¸€ä¸ªè¿é€šåˆ†é‡ã€‚åœ¨ E ä¸­é€‰æ‹©ä»£ä»·æœ€å°çš„è¾¹ï¼Œè‹¥ è¯¥è¾¹ä¾é™„çš„é¡¶ç‚¹è½åœ¨ T ä¸­ä¸åŒçš„è¿é€šåˆ†é‡ä¸Šï¼Œåˆ™å°†æ­¤è¾¹åŠ å…¥åˆ° T ä¸­ï¼Œå¦åˆ™èˆå»æ­¤è¾¹è€Œ é€‰æ‹©ä¸‹ä¸€æ¡ä»£ä»·æœ€å°çš„è¾¹ã€‚ä¾æ¬¡ç±»æ¨ï¼Œç›´è‡³ T ä¸­æ‰€æœ‰é¡¶ç‚¹éƒ½åœ¨ç½”ä¸€è¿é€šåˆ†é‡ä¸Šä¸ºæ­¢ ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(eloge)ã€‚é€šä¿—æ¥è®²å°±æ˜¯ï¼Œå…ˆæŠŠæ‰€æœ‰çš„è¾¹æŒ‰ç…§æƒå€¼çš„å¤§å°æ’åºï¼Œç„¶åä»æœ€å°çš„å¼€å§‹é€‰æ‹©ï¼Œæ¯é€‰æ‹©ä¸€æ¬¡éœ€è¦åˆ¤æ–­æ˜¯å¦å’Œä¹‹å‰å·²é€‰æ‹©çš„è¾¹å½¢æˆå›è·¯ï¼Œå¦‚æœå½¢æˆå›è·¯åˆ™é€‰æ‹©ä¸‹ä¸€æ¡è¾¹ï¼Œç›´åˆ°æ‰€æœ‰çš„è¾¹éƒ½è¢«éå†å®Œï¼Œæ‰€å¾—å°±æ˜¯æœ€å°ç”Ÿæˆæ ‘ã€‚
```
struct Edge{
    let begin: Int, end: Int, weight: Int
    init (begin: Int, end: Int, weight: Int) {
        self.begin = begin
        self.end = end
        self.weight = weight
    }
}

func miniSpanTree_Kruskal(graphics: Graph<String>) {
    var edges: [Edge] = []  //è¾¹é›†æ•°ç»„
    for i in 1..<graphics.vertexes {
        let arc = graphics.arc[i-1]
        for j in i..<graphics.vertexes {
            if arc[j] < Int.max {
                let edge = Edge(begin: i-1, end: j, weight: arc[j])
                edges.append(edge)
            }
        }
    }
    edges.sort{$0.weight < $1.weight}
    var parent = Array(repeating: 0, count: graphics.vertexes)  //åˆ¤æ–­æ˜¯å¦æˆç¯çš„æ•°ç»„
    for i in 0..<edges.count {
        let n = find(parent: parent, fedge: edges[i].begin)
        let m = find(parent: parent, fedge: edges[i].end)
        if n != m {  //ä¸€æ¡è¾¹ä»ä¸¤è¾¹å¼€å§‹è®¡ç®—ï¼Œåªè¦æœ€åçš„ç‚¹ç›¸ç­‰ï¼Œåˆ™ä¼šæ„æˆç¯
            parent[n] = m
            print("\(edges[i].begin, edges[i].end) \(edges[i].weight)")
        }
    }
}

//å¯»æ‰¾æ¯ä¸ªç‚¹çš„è·¯å¾„
func find(parent: [Int], fedge: Int) -> Int {
    var result = fedge
    while parent[result] > 0 {
        result = parent[result]
    }
    return result
}

miniSpanTree_Kruskal(graphics: graphics)
```

**æ³¨æ„ç‚¹ï¼šparentæ•°ç»„ï¼Œä»ä¸‹æ ‡å¼€å§‹å’Œç›¸åº”ä¸‹æ ‡æ•°ç»„ä¸­çš„å€¼ï¼Œå½¢æˆè¯¥é¡¶ç‚¹çš„ä¸€æ¡è·¯å¾„ã€‚**

####  6.5.3ä¸¤ä¸ªç®—æ³•å¯¹æ¯”
å¯¹æ¯”ä¸¤ä¸ªç®—æ³•ï¼Œå…‹é²æ–¯å¡å°”ç®—æ³•ä¸»è¦æ˜¯é’ˆå¯¹è¾¹æ¥å±•å¼€ï¼Œè¾¹æ•°å°‘æ—¶æ•ˆç‡ä¼šéå¸¸é«˜ï¼Œæ‰€ä»¥å¯¹äºç¨€ç–å›¾æœ‰å¾ˆå¤§çš„ä¼˜åŠ¿ã€‚è€Œæ™®é‡Œå§†ç®—æ³•å¯¹äºç¨ å¯†å›¾ï¼Œå³è¾¹æ•°éå¸¸å¤šçš„æƒ…å†µä¼šæ›´ å¥½ä¸€äº›ã€‚

### 6.6æœ€çŸ­è·¯å¾„
>å¯¹äºç½‘å›¾æ¥è¯´ï¼Œæœ€çŸ­è·¯å¾„ï¼Œæ˜¯æŒ‡ä¸¤é¡¶ç‚¹ä¹‹é—´ç»è¿‡çš„è¾¹ä¸Šæƒå€¼ä¹‹å’Œæœ€å°çš„è·¯å¾„ï¼Œå¹¶ä¸”ï¼Œæˆ‘ä»¬ç§°è·¯å¾„ä¸Šç¬¬ä¸€ä¸ªé¡¶ç‚¹ä¸ºæºç‚¹ï¼Œæœ€åä¸€ä¸ªé¡¶ç‚¹ä¸ºç»ˆç‚¹ã€‚

ä»¥ä¸‹é¢çš„ç½‘å›¾ï¼Œå¯»æ‰¾æœ€çŸ­è·¯å¾„ï¼š

![æœ€çŸ­è·¯å¾„](https://upload-images.jianshu.io/upload_images/968977-4772c267125eae6a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

```
var graphics = Graph<String>()
graphics.addVertex(vertext: "v0")
graphics.addVertex(vertext: "v1")
graphics.addVertex(vertext: "v2")
graphics.addVertex(vertext: "v3")
graphics.addVertex(vertext: "v4")
graphics.addVertex(vertext: "v5")
graphics.addVertex(vertext: "v6")
graphics.addVertex(vertext: "v7")
graphics.addVertex(vertext: "v8")

//æœ€çŸ­è·¯å¾„
graphics.addEdge(from: "v0", to: "v1", weight: 1)
graphics.addEdge(from: "v0", to: "v2", weight: 5)

graphics.addEdge(from: "v1", to: "v0", weight: 1)
graphics.addEdge(from: "v1", to: "v2", weight: 3)
graphics.addEdge(from: "v1", to: "v3", weight: 7)
graphics.addEdge(from: "v1", to: "v4", weight: 5)

graphics.addEdge(from: "v2", to: "v0", weight: 5)
graphics.addEdge(from: "v2", to: "v1", weight: 3)
graphics.addEdge(from: "v2", to: "v4", weight: 1)
graphics.addEdge(from: "v2", to: "v5", weight: 7)

graphics.addEdge(from: "v3", to: "v1", weight: 7)
graphics.addEdge(from: "v3", to: "v4", weight: 2)
graphics.addEdge(from: "v3", to: "v6", weight: 3)

graphics.addEdge(from: "v4", to: "v1", weight: 5)
graphics.addEdge(from: "v4", to: "v2", weight: 1)
graphics.addEdge(from: "v4", to: "v3", weight: 2)
graphics.addEdge(from: "v4", to: "v5", weight: 3)
graphics.addEdge(from: "v4", to: "v6", weight: 6)
graphics.addEdge(from: "v4", to: "v7", weight: 9)

graphics.addEdge(from: "v5", to: "v2", weight: 7)
graphics.addEdge(from: "v5", to: "v4", weight: 3)
graphics.addEdge(from: "v5", to: "v7", weight: 5)

graphics.addEdge(from: "v6", to: "v3", weight: 3)
graphics.addEdge(from: "v6", to: "v4", weight: 6)
graphics.addEdge(from: "v6", to: "v7", weight: 2)
graphics.addEdge(from: "v6", to: "v8", weight: 7)

graphics.addEdge(from: "v7", to: "v4", weight: 9)
graphics.addEdge(from: "v7", to: "v5", weight: 5)
graphics.addEdge(from: "v7", to: "v6", weight: 2)
graphics.addEdge(from: "v7", to: "v8", weight: 4)

graphics.addEdge(from: "v8", to: "v6", weight: 7)
graphics.addEdge(from: "v8", to: "v7", weight: 4)
```

- è¿ªæ°æ–¯ç‰¹æ‹‰ï¼ˆDijkstraï¼‰ç®—æ³•
>ä»æºç‚¹å¼€å§‹ï¼Œæ‰¾åˆ°æºç‚¹åˆ°ä¸‹ä¸€ä¸ªæœ€çŸ­è·¯å¾„çš„é¡¶ç‚¹ã€‚ç„¶åï¼Œåœ¨ä¹‹å‰çš„åŸºç¡€ä¸Šï¼Œå†æ‰¾ä¸‹ä¸€ä¸ªæœ€çŸ­è·¯å¾„çš„é¡¶ç‚¹ï¼Œç›´åˆ°ç»ˆç‚¹ã€‚è¯¥ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)ã€‚

```
func shortestPath_Dijkstra(graphics: Graph<String>) {
    var final = Array(repeating: 0, count: graphics.vertexes)  //final[N]=1ï¼Œè¡¨ç¤ºæ±‚çš„é¡¶ç‚¹v0è‡³vNçš„æœ€çŸ­è·¯å¾„
    var pathArc = Array(repeating: 0, count: graphics.vertexes)  //å‚¨å­˜æœ€çŸ­è·¯å¾„ä¸‹æ ‡å‰é©±çš„æ•°ç»„
    var shortPathTable: [Int] = []  //è¡¨ç¤ºv0åˆ°å„ä¸ªé¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„é•¿åº¦
    for i in 0..<graphics.vertexes {
        shortPathTable.append(graphics.arc[0][i])
    }
    final[0] = 1  //v0-v0ä¸éœ€è¦æ±‚è·¯å¾„
    //å¼€å§‹æ±‚v0åˆ°å„ä¸ªé¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„
    for _ in 1..<graphics.vertexes {
        var min = Int.max  //å½“å‰æ‰€çŸ¥ç¦»v0é¡¶ç‚¹æœ€è¿‘çš„è·ç¦»
        var k = 0
        for w in 0..<graphics.vertexes {
            if final[w] == 0, shortPathTable[w] < min {
                k = w
                min = shortPathTable[w]
            }
        }
        final[k] = 1
        //ä¿®æ­£æœ€çŸ­è·¯å¾„
        for w in 0..<graphics.vertexes {
            if final[w] == 0, min < shortPathTable[w]-graphics.arc[k][w]{
                shortPathTable[w] = min + graphics.arc[k][w]
                pathArc[w] = k
            }
        }
    }
    
    print(final)
    print(pathArc)
    print(shortPathTable)
}

shortestPath_Dijkstra(graphics: graphics)
//è¾“å‡ºç»“æœ
[1, 1, 1, 1, 1, 1, 1, 1, 1]
[0, 0, 1, 4, 2, 4, 3, 6, 7]
[0, 1, 4, 7, 5, 8, 10, 12, 16]
```
- è¯´æ˜ï¼š
åˆšå¼€å§‹finalæ•°ç»„ä¸ºï¼š[1, 0, 0, 0, 0, 0, 0, 0, 0]ï¼Œå› ä¸ºä»v0å¼€å§‹ï¼Œv0ç®—æ˜¯æ‰¾åˆ°äº†æœ€çŸ­è·¯å¾„ï¼›pathArcæ•°ç»„ä¸ºï¼š[0, 0, 0, 0, 0, 0, 0, 0, 0]ï¼›shortestPathTableæ•°ç»„ä¸ºï¼š[0, 1, 5, âˆ, âˆ, âˆ, âˆ, âˆ, âˆ]ã€‚å› ä¸ºv0-v1=1 < v0-v2=5ï¼Œæ‰€ä»¥ï¼Œv0ä¸‹ä¸€ä¸ªæœ€çŸ­è·¯å¾„çš„é¡¶ç‚¹æ˜¯v1ï¼Œè¿™æ—¶å€™finalä¸º[1, 1, 0, 0, 0, 0, 0, 0, 0]ï¼Œé‚£ä¹ˆï¼Œæ—¢ç„¶æ‰¾åˆ°äº†ä¸‹ä¸€ä¸ªæœ€çŸ­è·¯å¾„çš„é¡¶ç‚¹v1ï¼Œé‚£ä¹ˆï¼Œå’Œv1ç›¸è¿çš„é¡¶ç‚¹è·¯å¾„çš„æƒå€¼å’ŒshortestPathTableä¸­çš„æƒå€¼æ¯”è¾ƒï¼Œå–è¾ƒå°è€…çš„æƒå€¼ã€‚åˆ°æ­¤ï¼Œv0-v1ä»¥åŠå’Œv1ç›¸è¿çš„é¡¶ç‚¹çš„è¾ƒå°æƒå€¼éƒ½å¾—åˆ°äº†ï¼Œç»§ç»­é‡å¤ä¸Šé¢çš„æ­¥éª¤ç›´åˆ°ç»ˆç‚¹ï¼Œå°±å¯ä»¥å¾—åˆ°ä»v0-v8å„ä¸ªé¡¶ç‚¹åˆ°v0çš„æœ€å°è·¯å¾„äº†ã€‚

- ä½›æ´›ä¼Šå¾·ï¼ˆFloydï¼‰ç®—æ³•
>å…³é”®å…¬å¼ï¼šD[ v ][ w ] = min { D[ v ][ w ] , D[ V ][0] + D[0][W] }ï¼Œä¸»è¦æ€æƒ³å°±æ˜¯ï¼šæ±‚v1åˆ°v2ç»è¿‡æœ€çŸ­è·¯å¾„ï¼Œæœ‰v1->v2ï¼Œv1->v0->v2ï¼Œåˆ™v1->v2çš„æœ€çŸ­è·¯å¾„ä¸ºä¸¤è€…æœ€çŸ­çš„è·¯å¾„ã€‚ä»¥æ­¤ç±»æ¨ï¼Œåœ¨å…¶åŸºç¡€ä¸Šæ±‚v1-v3çš„è·¯å¾„ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚ç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸ºO(n^3)ã€‚
```
//ä½›æ´›ä¼Šå¾·ç®—æ³•
func ShortestPath_Floyd(graphics: Graph<String>) {
    //åˆå§‹åŒ–çŸ©é˜µ
    var pathmatirx: [[Int]]
    var shortPathTable: [[Int]] = graphics.arc
    
    var rowValue: [Int] = []
    for i in 0..<graphics.vertexes {
        rowValue.append(i)
    }
    pathmatirx = Array(repeating: rowValue, count: graphics.vertexes)
    
    //å¼€å§‹ç®—æ³•
    for k in 0..<graphics.vertexes {
        for v in 0..<graphics.vertexes {
            for w in 0..<graphics.vertexes {
                if shortPathTable[v][k] < Int.max, shortPathTable[k][w] < Int.max, shortPathTable[v][w] > shortPathTable[v][k] + shortPathTable[k][w] {
                    shortPathTable[v][w] = shortPathTable[v][k] + shortPathTable[k][w]
                    pathmatirx[v][w] = pathmatirx[v][k]
                }
            }
        }
    }
    
    //æ‰“å°æœ€çŸ­è·¯å¾„
    var k = 0
    for v in 0..<graphics.vertexes {
        for w in v+1..<graphics.vertexes {
            print("v\(v)-v\(w) weight: \(shortPathTable[v][w])")
            k = pathmatirx[v][w]
            print("path: \(v)")
            while k != w {
                print(" -> \(k)")
                k = pathmatirx[k][w]
            }
            print(" -> \(w)")
        }
        print("\n")
    }
}

ShortestPath_Floyd(graphics: graphics)

//è¾“å‡ºç»“æœ
[0, 1, 4, 7, 5, 8, 10, 12, 16]   //v0è¾¾åˆ°å„é¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„
[1, 0, 3, 6, 4, 7, 9, 11, 15]
[4, 3, 0, 3, 1, 4, 6, 8, 12]
[7, 6, 3, 0, 2, 5, 3, 5, 9]
[5, 4, 1, 2, 0, 3, 5, 7, 11]
[8, 7, 4, 5, 3, 0, 7, 5, 9]
[10, 9, 6, 3, 5, 7, 0, 2, 6]
[12, 11, 8, 5, 7, 5, 2, 0, 4]
[16, 15, 12, 9, 11, 9, 6, 4, 0]
//å‰é©±çŸ©é˜µ
[0, 1, 1, 1, 1, 1, 1, 1, 1]
[0, 1, 2, 2, 2, 2, 2, 2, 2]
[1, 1, 2, 4, 4, 4, 4, 4, 4]
[4, 4, 4, 3, 4, 4, 6, 6, 6]
[2, 2, 2, 3, 4, 5, 3, 3, 3]
[4, 4, 4, 4, 4, 5, 7, 7, 7]
[3, 3, 3, 3, 3, 7, 6, 7, 7]
[6, 6, 6, 6, 6, 5, 6, 7, 8]
[7, 7, 7, 7, 7, 7, 7, 7, 8]
```
- è¯´æ˜ï¼šè·å–v0->v8çš„æœ€çŸ­è·¯å¾„ï¼Œåˆ™P[0][8] = 1ï¼ŒP[1][8] = 2ï¼ŒP[2][8] = 4ï¼ŒP[4][8] = 3ï¼ŒP[3][8] = 6ï¼ŒP[6][8] = 7ï¼ŒP[7][8] = 8ï¼Œæ‰€ä»¥ï¼Œv0->v8çš„æœ€çŸ­è·¯å¾„ä¸ºï¼šv0->v1->v2->v4->v3->v6->v7-V8ã€‚

- **ä¸¤ä¸ªç®—æ³•æ€»ç»“ï¼š**
å¦‚æœåªéœ€æ±‚å…¶ä¸­ä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´çš„æœ€çŸ­è·¯å¾„ï¼Œé‡‡ç”¨è¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³•ï¼›å¦‚æœéœ€è¦æ±‚æ‰€æœ‰é¡¶ç‚¹åˆ°æ‰€æœ‰é¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„ï¼Œå¯ä»¥é‡‡ç”¨ä½›æ´›ä¾å¾·ç®—æ³•ï¼Œè™½ç„¶ï¼Œä¸¤ä¸ªç®—æ³•è®¡ç®—æ‰€æœ‰é¡¶ç‚¹åˆ°æ‰€æœ‰é¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(n^3)ï¼Œä½†æ˜¯ä½›æ´›ä¾å¾·ç®—æ³•æ¯”è¾ƒç®€æ´ï¼Œä¸æ˜“å‡ºé”™ã€‚

### 6.7æ‹“æ‰‘ç»“æ„
>åœ¨ä¸€ä¸ªè¡¨ç¤ºå·¥ç¨‹çš„æœ‰å‘å›¾ä¸­ï¼Œç”¨é¡¶ç‚¹è¡¨ç¤ºæ´»åŠ¨ï¼Œç”¨å¼§è¡¨ç¤ºæ´»åŠ¨ä¹‹é—´çš„ä¼˜å…ˆå…³ç³»ï¼Œè¿™æ ·çš„æœ‰å‘å›¾è¡¨ç¤ºçš„ç½‘ï¼Œç§°ä¸ºAOVç½‘ï¼ˆActivity On vertex Networkï¼‰ã€‚å‡è®¾G=(V,E)æ˜¯ä¸€ä¸ªå…·æœ‰nä¸ªé¡¶ç‚¹çš„æœ‰å‘å›¾ï¼ŒVä¸­çš„é¡¶ç‚¹åºåˆ—v1, v2, v3, ...... , Vnï¼Œæ»¡è¶³è‹¥ä»é¡¶ç‚¹viåˆ°vjæœ‰ä¸€æ¡è·¯å¾„ï¼Œåˆ™ä¸­é¡¶ç‚¹åºåˆ—ä¸­é¡¶ç‚¹viå¿…é¡»åœ¨vjä¹‹å‰ï¼Œæˆ‘ä»¬ç§°è¿™æ ·çš„é¡¶ç‚¹åºåˆ—ä¸ºä¸€ä¸ªæ‹“æ‰‘åºåˆ—ã€‚æ‹“æ‰‘æ’åºï¼Œå°±æ˜¯å¯¹ä¸€ä¸ªæœ‰å‘å›¾æ„é€ æ‹“æ‰‘åºåˆ—çš„è¿‡ç¨‹ã€‚æ‹“æ‰‘åºåˆ—çš„ä¸»è¦ä½œç”¨æ˜¯ç¡®å®šä¸€ä¸ªæœ‰å‘å›¾ç¡®å®šçš„æœ‰åºåºåˆ—ï¼Œæ¯”å¦‚ï¼šiOSå¼€å‘ä½¿ç”¨æ‹“æ‰‘åºåˆ—æ¥æ•´ç†æ•´ä¸ªå·¥ç¨‹çš„æ–‡ä»¶ä¾èµ–ï¼Œæ¯”å¦‚æ£€æŸ¥å¾ªç¯ä¾èµ–ï¼Œæ¯”å¦‚ç¡®è®¤ä»é‚£ä¸ªä¾èµ–æ–‡ä»¶å¼€å§‹ç¼–è¯‘ç­‰ç­‰ã€‚ä¸¤ä¸ªç‰¹ç‚¹ï¼š1.æ— ç¯æœ‰å‘å›¾ 2.ä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´çš„æ–¹å‘åªæœ‰ä¸€ä¸ªã€‚

![AVOå›¾.png](https://upload-images.jianshu.io/upload_images/968977-ea591cafb180a6f1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

![AVOå›¾é“¾è¡¨è¡¨ç¤º.png](https://upload-images.jianshu.io/upload_images/968977-b80bdf4854995576.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

```
extension Int {
    static func += (left: inout Int, right: Int) {
        left = left + right
    }
    
    static func -= (left: inout Int, right: Int) {
        left = left - right
    }
}

//è¾¹è¡¨ç»“ç‚¹
class EdgeNode {
    var adjex = 0
    var weight = 1
    var next: EdgeNode?
}

//é¡¶ç‚¹è¡¨ç»“ç‚¹
class VertexNode {
    var inEdge = 0
    var data = 0
    var firstEdge: EdgeNode?
}

class GraphAdjList {
    var adjList: [VertexNode] = []
    var numEdges = 0
    var numVertexes : Int {
        return adjList.count
    }
}

let graphiAdjList = GraphAdjList()

//V0
let v0 = VertexNode()
v0.inEdge = 0
v0.data = 0

let v0E11 = EdgeNode()
v0E11.adjex = 11
let v0E5 = EdgeNode()
v0E5.adjex = 5
let v0E4 = EdgeNode()
v0E4.adjex = 4

v0.firstEdge = v0E11
v0E11.next = v0E5
v0E5.next = v0E4

//V1
let v1 = VertexNode()
v1.inEdge = 0
v1.data = 1

let v1E8 = EdgeNode()
v1E8.adjex = 8
let v1E4 = EdgeNode()
v1E4.adjex = 4
let v1E2 = EdgeNode()
v1E2.adjex = 2

v1.firstEdge = v1E8
v1E8.next = v1E4
v1E4.next = v1E2

//V2
let v2 = VertexNode()
v2.inEdge = 2
v2.data = 2

let v2E9 = EdgeNode()
v2E9.adjex = 9
let v2E6 = EdgeNode()
v2E6.adjex = 6
let v2E5 = EdgeNode()
v2E5.adjex = 5

v2.firstEdge = v2E9
v2E9.next = v2E6
v2E6.next = v2E5

//V3
let v3 = VertexNode()
v3.inEdge = 0
v3.data = 3

let v3E13 = EdgeNode()
v3E13.adjex = 13
let v3E2 = EdgeNode()
v3E2.adjex = 2

v3.firstEdge = v3E13
v3E13.next = v3E2

//V4
let v4 = VertexNode()
v4.inEdge = 2
v4.data = 4

let v4E7 = EdgeNode()
v4E7.adjex = 7

v4.firstEdge = v4E7

//V5
let v5 = VertexNode()
v5.inEdge = 3
v5.data = 5

let v5E12 = EdgeNode()
v5E12.adjex = 12
let v5E8 = EdgeNode()
v5E8.adjex = 8

v5.firstEdge = v5E12
v5E12.next = v5E8

//V6
let v6 = VertexNode()
v6.inEdge = 1
v6.data = 6

let v6E5 = EdgeNode()
v6E5.adjex = 5

v6.firstEdge = v6E5

//V7
let v7 = VertexNode()
v7.inEdge = 2
v7.data = 7

//V8
let v8 = VertexNode()
v8.inEdge = 2
v8.data = 8

let v8E7 = EdgeNode()
v8E7.adjex = 7

v8.firstEdge = v8E7

//V9
let v9 = VertexNode()
v9.inEdge = 2
v9.data = 9

let v9E11 = EdgeNode()
v9E11.adjex = 11
let v9E10 = EdgeNode()
v9E10.adjex = 10

v9.firstEdge = v9E11
v9E11.next = v9E10

//V10
let v10 = VertexNode()
v10.inEdge = 1
v10.data = 10

let v10E13 = EdgeNode()
v10E13.adjex = 13

v10.firstEdge = v10E13

//V11
let v11 = VertexNode()
v11.inEdge = 2
v11.data = 11

//V12
let v12 = VertexNode()
v12.inEdge = 1
v12.data = 12

let v12E9 = EdgeNode()
v12E9.adjex = 9

v12.firstEdge = v12E9

//V13
let v13 = VertexNode()
v13.inEdge = 2
v13.data = 13

graphiAdjList.adjList.append(v0)
graphiAdjList.adjList.append(v1)
graphiAdjList.adjList.append(v2)
graphiAdjList.adjList.append(v3)
graphiAdjList.adjList.append(v4)
graphiAdjList.adjList.append(v5)
graphiAdjList.adjList.append(v6)
graphiAdjList.adjList.append(v7)
graphiAdjList.adjList.append(v8)
graphiAdjList.adjList.append(v9)
graphiAdjList.adjList.append(v10)
graphiAdjList.adjList.append(v11)
graphiAdjList.adjList.append(v12)
graphiAdjList.adjList.append(v13)

func toPologicalSort(gl: GraphAdjList) {
    var count = 0, top = 0, k = 0, getTop = 0
    var stack: [Int] = []
    //å°†æœ‰å‘å›¾æ‰€æœ‰å…¥åº¦ä¸º0çš„é¡¶ç‚¹å…¥æ ˆ
    for i in 0..<gl.numVertexes {
        if gl.adjList[i].inEdge == 0 {
            stack.append(i)
            top += 1
        }
    }
    //å¼€å§‹ç®—æ‹“æ‰‘åºåˆ—
    while top != 0 {
        getTop = stack.removeLast()
        top -= 1
        print("vertex: \(gl.adjList[getTop].data)")
        count += 1
        var edgeNode = gl.adjList[getTop].firstEdge
        while edgeNode != nil {
            k = (edgeNode?.adjex)!
            gl.adjList[k].inEdge -= 1
            if gl.adjList[k].inEdge == 0 {
                stack.append(k)
                top += 1
            }
            edgeNode = edgeNode?.next
        }
    }
    
    if count < gl.numVertexes {
        print("Error")
    } else {
        print("OK")
    }
}

toPologicalSort(gl: graphiAdjList)
//è¾“å‡ºç»“æœ
vertex: 3
vertex: 1
vertex: 2
vertex: 6
vertex: 0
vertex: 4
vertex: 5
vertex: 8
vertex: 7
vertex: 12
vertex: 9
vertex: 10
vertex: 13
vertex: 11
```
- æ‹“æ‰‘æ’åºå¹¶ä¸æ˜¯å”¯ä¸€çš„
- æ‹“æ‰‘æ’åºç®€è¦è¯´æ˜ï¼š

1.å…ˆæ‰¾åˆ°æ‰€æœ‰å…¥åº¦ä¸º0çš„é¡¶ç‚¹ï¼Œå¹¶ä¾æ¬¡è¿›æ ˆã€‚
2.ä»æ ˆé¡¶å¼€å§‹ï¼Œå‡ºæ ˆï¼›ç„¶åï¼Œéå†è¯¥æ ˆé¡¶å…ƒç´ çš„é“¾è¡¨ï¼Œæ¯ä¸ªé¡¶ç‚¹çš„å…¥åº¦å‡1ï¼Œåˆ¤æ–­æ¯ä¸ªé¡¶ç‚¹çš„å…¥åº¦æ˜¯å¦ä¸º0ï¼Œå¦‚æœä¸º0åˆ™å…¥æ ˆï¼Œå¦åˆ™è·³è¿‡ã€‚
3.åˆ¤æ–­æ ˆæ˜¯å¦è¿˜æœ‰å…ƒç´ ï¼Œå¦‚æœæ ˆä¸ä¸ºç©ºï¼Œåˆ™å›åˆ°ç¬¬2æ­¥ï¼Œå¦åˆ™ï¼Œç»“æŸã€‚

### 6.8å…³é”®è·¯å¾„
>æ‹“æ‰‘æ’åºè§£å†³ä¸€ä¸ªå·¥ç¨‹èƒ½å¦é¡ºåˆ©è¿›è¡Œçš„é—®é¢˜ï¼Œé‚£ä¹ˆï¼Œå…³é”®è·¯å¾„å°±æ˜¯è§£å†³å·¥ç¨‹å®Œæˆéœ€è¦çš„æœ€çŸ­æ—¶é—´é—®é¢˜ã€‚åœ¨ä¸€ä¸ªè¡¨ç¤ºå·¥ç¨‹çš„å¸¦æƒæœ‰å‘å›¾ä¸­ï¼Œç”¨é¡¶ç‚¹è¡¨ç¤ºäº‹ä»¶ï¼Œç”¨æœ‰å‘è¾¹è¡¨ç¤ºæ´»åŠ¨ï¼Œç”¨è¾¹ä¸Šçš„æƒå€¼è¡¨ç¤ºæ´»åŠ¨çš„æŒç»­æ—¶é—´ï¼Œè¿™ç§æœ‰å‘å›¾çš„è¾¹è¡¨ç¤ºæ´»åŠ¨çš„ç½‘ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º **AOEç½‘** (Activity On Edge Network) ã€‚ æˆ‘ä»¬æŠŠAOEç½‘ä¸­æ²¡æœ‰äººè¾¹çš„é¡¶ç‚¹ç§°ä¸ºå§‹ç‚¹æˆ–æºç‚¹ï¼Œæ²¡æœ‰å‡ºè¾¹çš„é¡¶ç‚¹ç§°ä¸ºç»ˆç‚¹æˆ–æ±‡ç‚¹ã€‚æˆ‘ä»¬æŠŠè·¯å¾„ä¸Šå„ä¸ªæ´»åŠ¨æ‰€æŒç»­çš„æ—¶é—´ä¹‹å’Œç§°ä¸ºè·¯å¾„é•¿åº¦ï¼Œä»æºç‚¹åˆ°æ±‡ç‚¹å…·æœ‰æœ€å¤§é•¿åº¦çš„è·¯å¾„å«å…³é”®è·¯å¾„ï¼Œåœ¨å…³é”®è·¯å¾„ä¸Šçš„æ´»åŠ¨å«å…³é”®æ´»åŠ¨ã€‚

![AOEå›¾.png](https://upload-images.jianshu.io/upload_images/968977-c61b3a2fdc82af3f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
![AOEé“¾è¡¨æ˜¾ç¤º.png](https://upload-images.jianshu.io/upload_images/968977-91337380c0b3772a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

```
//V0
let v0 = VertexNode()
v0.inEdge = 0
v0.data = 0

let v0E2 = EdgeNode()
v0E2.adjex = 2
v0E2.weight = 4
let v0E1 = EdgeNode()
v0E1.adjex = 1
v0E1.weight = 3

v0.firstEdge = v0E2
v0E2.next = v0E1

//V1
let v1 = VertexNode()
v1.inEdge = 1
v1.data = 1

let v1E4 = EdgeNode()
v1E4.adjex = 4
v1E4.weight = 6
let v1E3 = EdgeNode()
v1E3.adjex = 3
v1E3.weight = 5

v1.firstEdge = v1E4
v1E4.next = v1E3

//V2
let v2 = VertexNode()
v2.inEdge = 1
v2.data = 2

let v2E5 = EdgeNode()
v2E5.adjex = 5
v2E5.weight = 7
let v2E3 = EdgeNode()
v2E3.adjex = 3
v2E3.weight = 8

v2.firstEdge = v2E5
v2E5.next = v2E3

//V3
let v3 = VertexNode()
v3.inEdge = 2
v3.data = 3

let v3E4 = EdgeNode()
v3E4.adjex = 4
v3E4.weight = 3

v3.firstEdge = v3E4

//V4
let v4 = VertexNode()
v4.inEdge = 2
v4.data = 4

let v4E7 = EdgeNode()
v4E7.adjex = 7
v4E7.weight = 4
let v4E6 = EdgeNode()
v4E6.adjex = 6
v4E6.weight = 9

v4.firstEdge = v4E7
v4E7.next = v4E6

//V5
let v5 = VertexNode()
v5.inEdge = 1
v5.data = 5

let v5E7 = EdgeNode()
v5E7.adjex = 7
v5E7.weight = 6

v5.firstEdge = v5E7

//V6
let v6 = VertexNode()
v6.inEdge = 1
v6.data = 6

let v6E9 = EdgeNode()
v6E9.adjex = 9
v6E9.weight = 2

v6.firstEdge = v6E9

//V7
let v7 = VertexNode()
v7.inEdge = 2
v7.data = 7

let v7E8 = EdgeNode()
v7E8.adjex = 8
v7E8.weight = 5

v7.firstEdge = v7E8

//V8
let v8 = VertexNode()
v8.inEdge = 1
v8.data = 8

let v8E9 = EdgeNode()
v8E9.adjex = 9
v8E9.weight = 3

v8.firstEdge = v8E9

//V9
let v9 = VertexNode()
v9.inEdge = 2
v9.data = 9

let graphiAdjList = GraphAdjList()

graphiAdjList.adjList.append(v0)
graphiAdjList.adjList.append(v1)
graphiAdjList.adjList.append(v2)
graphiAdjList.adjList.append(v3)
graphiAdjList.adjList.append(v4)
graphiAdjList.adjList.append(v5)
graphiAdjList.adjList.append(v6)
graphiAdjList.adjList.append(v7)
graphiAdjList.adjList.append(v8)
graphiAdjList.adjList.append(v9)

//etv(earliest time of vertex) => é¡¶ç‚¹Vçš„æœ€æ—©å‘ç”Ÿæ—¶é—´
//ltv(latest time of vertex) => é¡¶ç‚¹Vçš„æœ€è¿Ÿå‘ç”Ÿæ—¶é—´
//ete(earliest time of edge) => å¼§açš„æœ€æ—©å‘ç”Ÿæ—¶é—´
//lte(latest time of edge) => å¼§açš„æœ€è¿Ÿå‘ç”Ÿæ—¶é—´

var etv: [Int] = Array(repeating: 0, count: graphiAdjList.numVertexes)
var ltv: [Int] = []
var stack2: [Int] = []
var top2 = 0

func TopologicalSort(gl: GraphAdjList) {
    var count = 0, top = 0, k = 0, getTop = 0
    var stack: [Int] = []
    //å°†æœ‰å‘å›¾æ‰€æœ‰å…¥åº¦ä¸º0çš„é¡¶ç‚¹å…¥æ ˆ
    for i in 0..<gl.numVertexes {
        if gl.adjList[i].inEdge == 0 {
            stack.append(i)
            top += 1
        }
    }
    //å¼€å§‹ç®—æ‹“æ‰‘åºåˆ—
    while top != 0 {
        getTop = stack.removeLast()
        top -= 1
        count += 1
        /////////////////////
        stack2.append(getTop)  //æ·»åŠ å…¥åº¦ä¸º0çš„é¡¶ç‚¹
        top2 += 1
        ////////////////////
        var edgeNode = gl.adjList[getTop].firstEdge
        while edgeNode != nil {
            k = (edgeNode?.adjex)!
            gl.adjList[k].inEdge -= 1
            if gl.adjList[k].inEdge == 0 {
                stack.append(k)
                top += 1
            }
            /////////////////////////////////////////////
            if etv[getTop]+(edgeNode?.weight)! > etv[k] {   //é¡¶ç‚¹çš„æœ€æ—©å‘ç”Ÿæ—¶é—´ï¼Œå³åˆ°è¾¾è¿™ä¸ªé¡¶ç‚¹ä¹‹å‰æœ€å¤§çš„èŠ±è´¹æ—¶é—´
                etv[k] = etv[getTop]+(edgeNode?.weight)!
            }
            /////////////////////////////////////////////
            edgeNode = edgeNode?.next
        }
    }
    
    if count < gl.numVertexes {
        print("Error")
    } else {
        print("OK")
    }
}

func CriticalPath(gl: GraphAdjList) {
    var getTop = 0, k = 0
    var ete = 0, lte = 0
    TopologicalSort(gl: gl)  //æ±‚æ‹“æ‰‘åºåˆ—ï¼Œè®¡ç®—æ•°ç»„etvå’Œstack2
    //   etv: [0, 3, 4, 12, 15, 11, 24, 19, 24, 27]
    //stack2: [v0, v1, v2, v3, v4, v5, v6, v7, v8, v9]
    for _ in 0..<gl.numVertexes {
        ltv.append(etv[gl.numVertexes-1])  //åˆå§‹åŒ–ltvä¸º27
    }
    while top2 != 0 {
        getTop = stack2.removeLast()
        top2 -= 1
        var edgeNode = gl.adjList[getTop].firstEdge
        while edgeNode != nil {
            k = (edgeNode?.adjex)!
            if ltv[k]-(edgeNode?.weight)! < ltv[getTop] {
                ltv[getTop] = ltv[k]-(edgeNode?.weight)!  //å–æœ€å°å€¼ï¼Œæ‰ä¸ä¼šå½±å“è¯¥é¡¶ç‚¹åˆ°è¾¾å…¶ä»–é¡¶ç‚¹çš„æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯æœ€è¿Ÿå‘ç”Ÿçš„æ—¶é—´
            }
            edgeNode = edgeNode?.next
        }
    }
    for j in 0..<gl.numVertexes {
        var edgeNode = gl.adjList[j].firstEdge
        while edgeNode != nil {
            k = (edgeNode?.adjex)!
            ete = etv[j]
            lte = ltv[k]-(edgeNode?.weight)!
            if ete == lte {
                print("<\(gl.adjList[j].data), \(gl.adjList[k].data) length: \((edgeNode?.weight)!)>")
            }
            edgeNode = edgeNode?.next
        }
    }
}

è¾“å‡ºç»“æœï¼š
<0, 2 length: 4>
<2, 3 length: 8>
<3, 4 length: 3>
<4, 7 length: 4>
<7, 8 length: 5>
<8, 9 length: 3>
```
- å…³é”®ç‚¹ï¼š
1.etvçš„è®¡ç®—ï¼šæ¯”å¦‚è®¡ç®—v9ç‚¹æœ€æ—©å¼€å§‹çš„æ—¶é—´ï¼Œé‚£ä¹ˆéœ€è¦è®¡ç®—ç»ˆç‚¹æ˜¯v9çš„æ‰€æœ‰ç‚¹çš„æƒå€¼ï¼Œå–æœ€å¤§çš„æƒå€¼ï¼Œæ˜¯å› ä¸ºï¼Œåœ¨è¿™ä¸ªç‚¹å¼€å§‹ï¼Œv9ä¹‹å‰çš„æ‰€æœ‰æ´»åŠ¨éƒ½åˆšåˆšç»“æŸï¼Œä¹Ÿå°±æ˜¯è¯´ä¿è¯v9ä¹‹å‰æ‰€æœ‰æ´»åŠ¨å®Œæˆä¹‹åæ‰æ˜¯v9æœ€æ—©å¼€å§‹çš„æ—¶é—´ã€‚
![etvè®¡ç®—å…¬å¼.png](https://upload-images.jianshu.io/upload_images/968977-106865fdfaf5e0ae.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

2.ltvçš„è®¡ç®—ï¼šç”±etvå¯ä»¥çŸ¥é“ç»ˆç‚¹çš„æœ€æ—©å¼€å§‹æ—¶é—´ï¼Œé‚£ä¹ˆæ‰€æœ‰ç‚¹ä»¥è¿™ä¸ªä¸ºåˆå§‹å€¼ï¼Œå› ä¸ºæœ€è¿Ÿå¼€å§‹çš„æ—¶é—´ä¸å¯èƒ½å¤§äºç»ˆç‚¹æœ€æ—©çš„å¼€å§‹æ—¶é—´ã€‚é‚£ä¹ˆï¼Œltvçš„è®¡ç®—ä»ç»ˆç‚¹å¼€å§‹ï¼Œå¾€å›æ¨ã€‚æ¯”å¦‚è¯´è¦è®¡ç®—v8æœ€è¿Ÿå¼€å§‹çš„æ—¶é—´ï¼Œå› ä¸ºv8éœ€è¦3å¤©æ—¶é—´å·¥ä½œï¼Œé‚£ä¹ˆåœ¨ä¿è¯v8å·¥ä½œå®Œæˆæ—¶ä¸å½±å“v9çš„å·¥ä½œï¼Œé‚£ä¹ˆv8æœ€è¿Ÿå¼€å§‹çš„å·¥ä½œæ—¶é—´å°±æ˜¯v9æœ€æ—©å·¥ä½œæ—¶é—´å‡å»v8éœ€è¦çš„æ—¶é—´ã€‚æ¯”å¦‚è¯´v4ï¼Œç»è¿‡v4ä¼šåˆ°è¾¾å¤šä¸ªé¡¶ç‚¹ï¼Œéœ€è¦ä¿è¯ä¸å½±å“æ‰€è¾¾åˆ°çš„å¤šä¸ªçš„å·¥ä½œæ—¶é—´ï¼Œé‚£ä¹ˆv4å¼€å§‹çš„æ—¶é—´å°±æ˜¯v4æ‰€ç»è¿‡çš„è¿‡ä¸ªé¡¶ç‚¹æœ€æ—©çš„å¼€å§‹æ—¶é—´åˆ†åˆ«å‡å»v4æ‰€éœ€è¦çš„æ—¶é—´ï¼Œå–æœ€å°çš„å¼€å§‹æ—¶é—´ï¼Œæ‰ä¼šä¸å½±å“ä¹‹åæ‰€æœ‰çš„é¡¶ç‚¹çš„æœ€æ—©å¼€å§‹æ—¶é—´ã€‚
![ltvè®¡ç®—å…¬å¼.png](https://upload-images.jianshu.io/upload_images/968977-c1b4a3a198335923.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

3.eteæœ¬æ¥æ˜¯è¡¨ç¤ºæ´»åŠ¨ <vkï¼Œvj>çš„æœ€æ—©å¼€å·¥æ—¶é—´ï¼Œæ˜¯é’ˆå¯¹å¼§æ¥è¯´
çš„ã€‚ä½†åªæœ‰æ­¤å¼§çš„å¼§å°¾é¡¶ç‚¹vkçš„äº‹ä»¶å‘ç”Ÿäº†ï¼Œå®ƒæ‰å¯ä»¥å¼€å§‹ï¼Œå› æ­¤ ete=etv[k]ï¼›lte è¡¨ç¤ºçš„æ˜¯æ´»åŠ¨<vkï¼Œvj>çš„æœ€æ™šå¼€å·¥æ—¶é—´ï¼Œä½†æ­¤æ´»åŠ¨å†æ™šä¹Ÿä¸èƒ½ç­‰ vjäº‹ä»¶å‘ç”Ÿæ‰å¼€å§‹ï¼Œè€Œå¿…é¡»è¦åœ¨vjäº‹ä»¶ä¹‹å‰å‘ç”Ÿï¼Œæ‰€ä»¥ lte=ltv[j]-len<vkï¼Œvj>ã€‚

# æ€»ç»“ï¼š
å†™è¿™ä¸ªæ•°æ®ç»“æœï¼Œæ–­æ–­ç»­ç»­å¥‹æˆ˜äº†å‡ ä¸ªæ˜ŸæœŸï¼Œæ€»ç®—ä¸€ç‚¹ä¸€ç‚¹çš„æŠŠå®ƒå•ƒå®Œã€‚æ•²ä»£ç çš„åŸºç¡€å¾ˆé‡è¦ï¼Œå°±åƒç›–æˆ¿å­ä¸€æ ·ï¼ŒåŸºç¡€ä¸ç‰¢å›ºï¼Œå»ºä¸èµ·é«˜æ¥¼å¤§å¦ã€‚åé¢ä¼šç»§ç»­æ¨å‡ºï¼Œç®—æ³•ï¼Œè®¾è®¡æ¨¡å¼ï¼Œç¼–è¯‘åŸç†ï¼Œæ“ä½œç³»ç»Ÿç­‰ç­‰ä¸€äº›åˆ—çš„å­¦ä¹ ç¬”è®°ã€‚è¿™ä¸–ç•Œå¾ˆå¤§ï¼Œéœ€è¦ä¿æŒä¸€ç‚¹å¥½å¥‡å¿ƒğŸ˜„ã€‚æœ€åï¼ŒçŒ®ä¸Š[Demo](https://github.com/jashion/Joy-of-data-structure)ã€‚
